/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.apf.core.utils.uriGenerator");jQuery.sap.require("sap.apf.core.messageObject");(function(){'use strict';sap.apf.core.utils.uriGenerator={};sap.apf.core.utils.uriGenerator.getAbsolutePath=function(p){if(p.slice(-1)==='/'){return p;}return p+"/";};sap.apf.core.utils.uriGenerator.getODataPath=function(p){var s=p.split('/');var i;var S=[];for(i=0;i<s.length;i++){if(s[i]!==""){S.push(s[i]);}}var r='';var l=S.length-1;for(i=0;i<l;i++){r=r+'/'+S[i];}return r+'/';};sap.apf.core.utils.uriGenerator.addRelativeToAbsoluteURL=function(a,r){var b=a.split('/');var c=r.split('/');c.forEach(function(p){if(p==='..'){b.pop();}else if(p!='.'){b.push(p);}});return b.join('/');};sap.apf.core.utils.uriGenerator.getBaseURLOfComponent=function(c){var b=c.split('.');b.pop();var a=b.join('.');return jQuery.sap.getModulePath(a);};sap.apf.core.utils.uriGenerator.getApfLocation=function(){return jQuery.sap.getModulePath("sap.apf")+'/';};sap.apf.core.utils.uriGenerator.buildUri=function(m,e,s,f,p,a,P,F,b,n){var r="";r+=e;r+=c(p,n);r=r+"?";r+=d(s);r+=g(f,b);r+=h(a,s);r+=j(P);r+=k(F);return r;function c(p,n){var r='';var i=false;var l;for(l in p){if(!i){r+='(';i=true;}else{r+=',';}r+=l.toString()+'='+p[l];}if(i){r+=')/';}r+=n||'';return r;}function d(s){if(!s[0]){return'';}var i;var R="$select=";for(i in s){R+=jQuery.sap.encodeURL(sap.apf.utils.escapeOdata(s[i]));if(i<s.length-1){R+=",";}}return R;}function g(f,b){if(!(f&&f instanceof sap.apf.core.utils.Filter)){return'';}var i=f.toUrlParam({formatValue:b});if(i===""||i==='()'){return'';}return'&$filter='+i;}function h(a,s){var o='';var S='';var i;if(!a){return'';}switch(true){case jQuery.isArray(a):for(i=0;i<a.length;i++){S=l(a[i],s);if(o.length>0&&S.length>0){o+=',';}o+=S;}break;case jQuery.isPlainObject(a):o+=l(a,s);break;case typeof a==='string':o+=l({property:a},s);break;}if(o.length>0){return"&$orderby="+o;}return'';function l(O,s){var v='';if(jQuery.inArray(O.property,s)>-1){v+=O.property;if(O.descending===true){v+=' desc';}else{v+=' asc';}}else{m.putMessage(m.createMessageObject({code:'5019',aParameters:[e,O.property]}));}return jQuery.sap.encodeURL(v);}}function j(P){function l(P){var o,i;o=Object.getOwnPropertyNames(P);for(i=0;i<o.length;i++){if(o[i]!=='top'&&o[i]!=='skip'&&o[i]!=='inlineCount'){m.putMessage(m.createMessageObject({code:'5032',aParameters:[e,o[i]]}));}}}var r='';if(!P){return r;}l(P);if(P.top){r+='&$top='+P.top;}if(P.skip){r+='&$skip='+P.skip;}if(P.inlineCount===true){r+='&$inlinecount=allpages';}return r;}function k(F){if(!F){F='json';}return'&$format='+F;}};}());
