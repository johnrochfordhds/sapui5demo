/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
jQuery.sap.declare('sap.apf.modeler.ui.utils.textPoolHelper');
sap.apf.modeler.ui.utils.TextPoolHelper=function(t){this.oTextPool=t;};
sap.apf.modeler.ui.utils.TextPoolHelper.prototype={setAutoCompleteOn:function(i,d){i.setShowSuggestion(true);var s=[];if(d.type==="text"){var e=this._getSuggestionItems(d.oTranslationFormat);e.forEach(function(t){var o={};o.suggetionText=t.TextElementDescription;s.push(o);});}else if(d.type==="service"){var E=d.oConfigurationEditor.getAllServices();E.forEach(function(a){var o={};o.suggetionText=a;s.push(o);});}var I=i.getModel();var m=I||new sap.ui.model.json.JSONModel({});if(!m.getData().suggestions){m.getData().suggestions=s;}if(!I){i.setModel(m);}i.bindAggregation("suggestionItems",{path:"/suggestions",template:new sap.ui.core.Item({text:"{suggetionText}"})});i.attachSuggest(this._handleSuggestion);},_handleSuggestion:function(e){var v=e.getParameter("suggestValue");var f=new sap.ui.model.Filter("suggetionText",sap.ui.model.FilterOperator.Contains,v);e.getSource().getBinding("suggestionItems").filter([f]);},_getSuggestionItems:function(t){return this.oTextPool.getTextsByTypeAndLength(t.TextElementType,t.MaximumLength);}};sap.apf.modeler.ui.utils.TranslationFormatMap={APPLICATION_TITLE:{TextElementType:"XTIT",MaximumLength:250},CATEGORY_TITLE:{TextElementType:"XTIT",MaximumLength:60},FACETFILTER_LABEL:{TextElementType:"XFLD",MaximumLength:50},STEP_TITLE:{TextElementType:"XTIT",MaximumLength:100},STEP_LONG_TITLE:{TextElementType:"XTIT",MaximumLength:200},STEP_CORNER_TEXT:{TextElementType:"XFLD",MaximumLength:25},REPRESENTATION_LABEL:{TextElementType:"XTIT",MaximumLength:80},REPRESENTATION_CORNER_TEXT:{TextElementType:"XFLD",MaximumLength:25}};
