sap.ui.define(["sap/gantt/drawer/Drawer","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/thirdparty/d3"],function(D,U,F){"use strict";var L=D.extend("sap.gantt.drawer.ListLegend");L.prototype._drawPerTag=function(s,S){var l=S.mChartInstance;if(S.getIsDuration()){S.setTime(l.TIME_RANGE[0]);S.setEndTime(l.TIME_RANGE[1]);}else{S.setTime(l.TIME);}S.setRowYCenter(l._getScaledLegendHeight()/2);switch(S.getTag()){case"g":this._drawGroup(s,S);break;case"line":this._drawLine(s,S);break;case"rect":this._drawRect(s,S);break;case"text":this._drawText(s,S);break;case"path":this._drawPath(s,S);break;case"image":this._drawImage(s,S);break;case"polygon":this._drawPolygon(s,S);break;case"polyline":this._drawPolyline(s,S);break;case"circle":this._drawCircle(s,S);break;default:break;}};L.prototype._drawGroup=function(s,S){var g=s.append("g");var a=S.getShapes();if(a&&a.length>0){for(var i=0;i<a.length;i++){this._drawPerTag(g,a[i]);}}};L.prototype._drawLine=function(s,S){s.append("line").attr("x1",S.getX1()).attr("y1",S.getY1()).attr("x2",S.getX2()).attr("y2",S.getY2()).attr("filter",S.getFilter()).attr("aria-label",S.getAriaLabel()).attr("stroke",this.determineValue("stroke",S)).attr("stroke-width",S.getStrokeWidth()).attr("stroke-dasharray",S.getStrokeDasharray()).attr("fill-opacity",S.getFillOpacity()).attr("stroke-opacity",S.getStrokeOpacity()).attr("transform",S.getTransform());};L.prototype._drawRect=function(s,S){s.append("rect").attr("x",S.getX()).attr("y",S.getY()).attr("width",S.getWidth()).attr("height",S.getHeight()).attr("fill",this.determineValue("fill",S)).attr("rx",S.getRx()).attr("ry",S.getRy()).attr("filter",S.getFilter()).attr("stroke",this.determineValue("stroke",S)).attr("stroke-width",S.getStrokeWidth()).attr("stroke-dasharray",S.getStrokeDasharray()).attr("fill-opacity",S.getFillOpacity()).attr("stroke-opacity",S.getStrokeOpacity()).attr("aria-label",S.getAriaLabel()).attr("transform",S.getTransform());};L.prototype._drawText=function(s,S){s.append("text").attr("x",S.getX()).attr("y",S.getRowYCenter()).attr("text-anchor","middle").attr("font-size",S.getFontSize()).attr("fill",this.determineValue("fill",S)).attr("filter",S.getFilter()).attr("stroke",this.determineValue("stroke",S)).attr("stroke-width",S.getStrokeWidth()).attr("alignment-baseline","central").attr("font-family",S.getFontFamily()).text(S.getText()).attr("transform",S.getTransform());};L.prototype._drawPath=function(s,S){function o(){if(S.getIsClosed()){return S.getFillOpacity();}}function O(){if(S.getIsClosed()){return S.getStrokeOpacity();}}s.append("path").attr("d",S.getD()).attr("fill",this.determineValue("fill",S)).attr("stroke",this.determineValue("stroke",S)).attr("stroke-width",S.getStrokeWidth()).attr("stroke-dasharray",S.getStrokeDasharray()).attr("fill-opacity",o()).attr("stroke-opacity",O()).attr("filter",S.getFilter()).attr("aria-label",S.getAriaLabel()).attr("transform",S.getTransform());};L.prototype._drawImage=function(s,S){s.append("image").attr("xlink:href",S.getImage()).attr("x",S.getX()-S.getWidth()/2).attr("y",S.getY()).attr("width",S.getWidth()).attr("height",S.getHeight()).attr("filter",S.getFilter()).attr("aria-label",S.getAriaLabel()).attr("transform",S.getTransform());};L.prototype._drawPolygon=function(s,S){s.append("polygon").attr("fill",this.determineValue("fill",S)).attr("points",S.getPoints()).attr("stroke-width",S.getStrokeWidth()).attr("stroke",this.determineValue("stroke",S)).attr("filter",S.getFilter()).attr("aria-label",S.getAriaLabel()).attr("transform",S.getTransform());};L.prototype._drawPolyline=function(s,S){s.append("polyline").attr("fill",this.determineValue("fill",S)).attr("points",S.getPoints()).attr("stroke-width",S.getStrokeWidth()).attr("stroke",this.determineValue("stroke",S)).attr("filter",S.getFilter()).attr("aria-label",S.getAriaLabel()).attr("transform",S.getTransform());};L.prototype._drawCircle=function(s,S){s.append("circle").attr("fill",this.determineValue("fill",S)).attr("stroke-width",S.getStrokeWidth()).attr("stroke",this.determineValue("stroke",S)).attr("filter",S.getFilter()).attr("aria-label",S.getAriaLabel()).attr("cx",S.getCx()).attr("cy",S.getCy()).attr("r",S.getR()).attr("transform",S.getTransform());};L.prototype.determineValue=function(a,s){var A=null;if(a==="fill"){A=s.getFill();}else if(a==="stroke"){A=s.getStroke();}return sap.gantt.ValueSVGPaintServer.normalize(A);};return L;},true);
