/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */
sap.ui.define(["jquery.sap.global"],function(q){"use strict";var R={};R.FORM_RATIO=1000;R.BACKGROUND_CIRCLE_BORDER_WIDTH=1;R.BACKGROUND_CIRCLE_RADIUS=500;R.CIRCLE_BORDER_WIDTH=87.5;R.CIRCLE_RADIUS=441.75;R.SVG_VIEWBOX_CENTER_FACTOR="50%";R.X_ROTATION=0;R.SWEEP_FLAG=1;R.NUMBER_FONT_SIZE=235;R.EDGE_CASE_SIZE_ACCESSIBLE_COLOR=54;R.EDGE_CASE_SIZE_SHOW_TEXT=46;R.EDGE_CASE_SIZE_MICRO_CHART=24;R.render=function(r,c){this._writeDivStartElement(c,r);this._writeSVGStartElement(r);this._writeBackground(r);if(this._renderingOfInnerContentIsRequired(c)){this._writeBorders(r);if(this._innerCircleRequired(c)){this._writeCircle(c,r);}else{this._writeCircleWithPathElements(c,r);}this._writeText(c,r);}r.write("</svg>");r.write("</div>");};R._writeDivStartElement=function(c,r){r.write("<div");r.writeControlData(c);var t=c._getTooltipText();if(t){r.writeAttributeEscaped("title",t);}r.writeAttribute("role","img");r.writeAttributeEscaped("aria-label",c._getAriaText());if(c.hasListeners("press")){r.addClass("sapSuiteUiMicroChartPointer");r.writeAttribute("tabindex","0");}r.addClass("sapSuiteUiMicroChartRMC");r.writeClasses();r.writeStyles();r.write(">");};R._writeSVGStartElement=function(r){var p;if(!sap.ui.getCore().getConfiguration().getRTL()){p="xMaxYMid meet";}else{p="xMinYMid meet";}r.write("<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 "+R.FORM_RATIO+' '+R.FORM_RATIO+"\" preserveAspectRatio=\""+p+"\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">");};R._writeBackground=function(r){r.write("<circle class=\"sapSuiteUiMicroChartRMCCircleBackground\" cx=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" cy=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" r=\""+R.BACKGROUND_CIRCLE_RADIUS+"\" stroke-width=\""+this.BACKGROUND_CIRCLE_BORDER_WIDTH+"\" />");};R._writeBorders=function(r){r.write("<circle class=\"sapSuiteUiMicroChartRMCHCBIncompleteBorder\" cx=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" cy=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" r=\""+(R.CIRCLE_RADIUS+R.CIRCLE_BORDER_WIDTH/2.0-R.BACKGROUND_CIRCLE_BORDER_WIDTH)+"\" stroke-width=\""+R.BACKGROUND_CIRCLE_BORDER_WIDTH+"\" />");r.write("<circle class=\"sapSuiteUiMicroChartRMCHCBIncompleteBorder\" cx=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" cy=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" r=\""+(R.CIRCLE_RADIUS-R.CIRCLE_BORDER_WIDTH/2.0+R.BACKGROUND_CIRCLE_BORDER_WIDTH)+"\" stroke-width=\""+R.BACKGROUND_CIRCLE_BORDER_WIDTH+"\" />");};R._writeCircle=function(c,r){r.write("<circle class=\""+this._getSVGStringForColor(this._getFullCircleColor(c),c)+"\" cx=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" cy=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" r=\""+R.CIRCLE_RADIUS+"\" fill=\"transparent\" stroke-width=\""+R.CIRCLE_BORDER_WIDTH+"px\" />");};R._writeCircleWithPathElements=function(c,r){var l=c.getPercentage()>50?1:0;var p=this._calculatePathCoordinates(c);this._writePath1(l,p,c,r);this._writePath2(l,p,c,r);};R._writePath1=function(l,p,c,r){var P="M"+p[0]+" "+p[1]+" A "+R.CIRCLE_RADIUS+" "+R.CIRCLE_RADIUS+", "+R.X_ROTATION+", "+l+", "+R.SWEEP_FLAG+", "+p[2]+" "+p[3];r.write("<path class=\"sapSuiteUiMicroChartRadialMicroChartPath"+this._getSVGStringForColor(this._getPathColor(c),c)+"d=\""+P+"\" fill=\"transparent\" stroke-width=\""+R.CIRCLE_BORDER_WIDTH+"px\" />");};R._writePath2=function(l,p,c,r){var P="M"+p[2]+" "+p[3]+" A "+R.CIRCLE_RADIUS+" "+R.CIRCLE_RADIUS+", "+R.X_ROTATION+", "+(1-l)+", "+R.SWEEP_FLAG+", "+p[0]+" "+p[1];r.write("<path class=\"sapSuiteUiMicroChartRadialMicroChartPath sapSuiteUiMicroChartRMCPathIncomplete\" d=\""+P+"\" fill=\"transparent\" stroke-width=\""+R.CIRCLE_BORDER_WIDTH+"px\" />");};R._writeText=function(c,r){r.write("<text class=\"sapSuiteUiMicroChartRMCFont\" aria-hidden=\"true\" text-anchor=\"middle\" alignment-baseline=\"middle\""+"\" font-size=\""+R.NUMBER_FONT_SIZE+"\" x=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" y=\""+this._getVerticalViewboxCenterFactorForText()+"\"> "+this._generateTextContent(c)+"</text>");};R._renderingOfInnerContentIsRequired=function(c){if(c._getPercentageMode()||(c.getTotal()!==0)){return true;}else{return false;}};R._getSVGStringForColor=function(c,a){if(a._isValueColorInstanceOfValueColor()){return" "+c+"\"";}else if(c==="sapSuiteUiMicroChartRMCPathIncomplete"){return" "+c+"\"";}else{return"\" stroke=\""+c+"\"";}};R._getVerticalViewboxCenterFactorForText=function(){if(sap.ui.Device.browser.msie){return"55%";}else if(sap.ui.Device.browser.mozilla){return"56%";}else{return"51%";}};R._innerCircleRequired=function(c){if(c.getPercentage()>=100||c.getPercentage()<=0){return true;}else{return false;}};R._calculatePathCoordinates=function(c){var p=this._getPercentageForCircleRendering(c);var C=[];C.push(R.FORM_RATIO/2+R.CIRCLE_RADIUS*Math.cos(-Math.PI/2.0));C.push(R.FORM_RATIO/2+R.CIRCLE_RADIUS*Math.sin(-Math.PI/2.0));C.push(R.FORM_RATIO/2+R.CIRCLE_RADIUS*Math.cos(-Math.PI/2.0+p/100*2*Math.PI));C.push(R.FORM_RATIO/2+R.CIRCLE_RADIUS*Math.sin(-Math.PI/2.0+p/100*2*Math.PI));return C;};R._getPercentageForCircleRendering=function(c){var p=c.getPercentage();var P=p;if(p>99){P=99;}if(p<1){P=1;}return P;};R._handleOnAfterRendering=function(c){var p;if(c.getParent()instanceof sap.m.TileContent){this._adjustToTileContent(c);}else{if(c.getParent()!==undefined&&c.getParent()!==null&&c.getParent().getHeight!==undefined&&c.getParent().getHeight!==null){var P=parseFloat(c.getParent().$().height())-2;c.$().height(P);c.$().children("svg").height(P);}if(c.getParent()!==undefined&&c.getParent()!==null&&c.getParent().getWidth!==undefined&&c.getParent().getWidth!==null){p=parseFloat(c.getParent().$().width())-2;c.$().width(p);c.$().children("svg").width(p);}}if(parseInt(c.$().children("svg").css("height"),10)<R.EDGE_CASE_SIZE_MICRO_CHART||parseInt(c.$().children("svg").css("width"),10)<R.EDGE_CASE_SIZE_MICRO_CHART){c.$().hide();return;}var $=c.$().find("text");if(parseInt(c.$().children("svg").css("height"),10)<=R.EDGE_CASE_SIZE_SHOW_TEXT||parseInt(c.$().children("svg").css("width"),10)<=R.EDGE_CASE_SIZE_SHOW_TEXT){$.hide();}else{var C=$.attr("class");if(C){var t=this._getTextColorClass(c);if(C.indexOf(t)<0){$.attr("class",C+" "+t);}}}};R._adjustToTileContent=function(c){var p=c.getParent().$().css("min-width");c.getParent().$().width(p);if(sap.ui.Device.browser.msie||sap.ui.Device.browser.edge){c.$().width(parseInt(p,10)-16);}};R._getTextColorClass=function(c){var s=parseInt(q.sap.byId(c.getId()).children("svg").css("height"),10);if(s<=R.EDGE_CASE_SIZE_ACCESSIBLE_COLOR&&(!c._isValueColorInstanceOfValueColor()||c.getValueColor()===sap.m.ValueColor.Neutral)){return"sapSuiteUiMicroChartRMCAccessibleTextColor";}else{switch(c.getValueColor()){case sap.m.ValueColor.Good:return"sapSuiteUiMicroChartRMCGoodTextColor";case sap.m.ValueColor.Error:return"sapSuiteUiMicroChartRMCErrorTextColor";case sap.m.ValueColor.Critical:return"sapSuiteUiMicroChartRMCCriticalTextColor";default:return"sapSuiteUiMicroChartRMCNeutralTextColor";}}};R._getFullCircleColor=function(c){if(c.getPercentage()>=100){return this._getPathColor(c);}if(c.getPercentage()<=0){return"sapSuiteUiMicroChartRMCPathIncomplete";}};R._getPathColor=function(c){var v=c.getValueColor();if(c._isValueColorInstanceOfValueColor()){switch(v){case sap.m.ValueColor.Good:return"sapSuiteUiMicroChartRMCPathGood";case sap.m.ValueColor.Error:return"sapSuiteUiMicroChartRMCPathError";case sap.m.ValueColor.Critical:return"sapSuiteUiMicroChartRMCPathCritical";default:return"sapSuiteUiMicroChartRMCPathNeutral";}}else{return v;}};R._generateTextContent=function(c){if(c.getPercentage()===100){return c._rb.getText("RADIALMICROCHART_PERCENTAGE_TEXT",[100]);}if(c.getPercentage()===0){return c._rb.getText("RADIALMICROCHART_PERCENTAGE_TEXT",[0]);}if(c.getPercentage()>=100){q.sap.log.error("Values over 100%("+c.getPercentage()+"%) are not supported");return c._rb.getText("RADIALMICROCHART_PERCENTAGE_TEXT",[100]);}if(c.getPercentage()<=0){q.sap.log.error("Values below 0%("+c.getPercentage()+"%) are not supported");return c._rb.getText("RADIALMICROCHART_PERCENTAGE_TEXT",[0]);}return c._rb.getText("RADIALMICROCHART_PERCENTAGE_TEXT",[c.getPercentage()]);};return R;},true);
