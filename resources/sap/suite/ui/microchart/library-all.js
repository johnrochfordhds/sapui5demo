jQuery.sap.declare('sap.suite.ui.microchart.library-all');if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.AreaMicroChartRenderer')){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */
jQuery.sap.declare('sap.suite.ui.microchart.AreaMicroChartRenderer');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/suite/ui/microchart/AreaMicroChartRenderer",['jquery.sap.global'],function(){"use strict";var A={};A.render=function(r,c){function w(L,i,C,s){var a=L?L.getLabel():"";r.write("<div");r.writeAttribute("id",c.getId()+i);if(L){r.addClass(L.getColor());}r.addClass("sapSuiteAmcLbl");r.addClass(C);r.addClass(s);r.writeClasses();r.write(">");r.writeEscaped(a);r.write("</div>");}var t=c.getTooltip_AsString();if(typeof t!=="string"){t="";}var T=((c.getView()=="Normal"&&c.getFirstYLabel()&&c.getFirstYLabel().getLabel())?"L":"")+((c.getMaxLabel()&&c.getMaxLabel().getLabel())?"C":"")+((c.getView()=="Normal"&&c.getLastYLabel()&&c.getLastYLabel().getLabel())?"R":"");var b=((c.getView()=="Normal"&&c.getFirstXLabel()&&c.getFirstXLabel().getLabel())?"L":"")+((c.getMinLabel()&&c.getMinLabel().getLabel())?"C":"")+((c.getView()=="Normal"&&c.getLastXLabel()&&c.getLastXLabel().getLabel())?"R":"");var l,R;R=l=c.getView()=="Wide";r.write("<div");r.writeControlData(c);if(t){r.writeAttributeEscaped("title",t);}r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.writeStyles();r.writeAttribute("role","presentation");r.writeAttributeEscaped("aria-label",c.getAltText().replace(/\s/g," ")+(sap.ui.Device.browser.firefox?"":" "+t));r.addClass("sapSuiteAmc");if(c.hasListeners("press")){r.addClass("sapSuiteUiMicroChartPointer");r.writeAttribute("tabindex","0");}if(T){r.addClass("topLbls");}if(b){r.addClass("btmLbls");}r.writeClasses();r.write(">");if(T){r.write("<div");r.writeAttribute("id",c.getId()+"-top-labels");r.addClass("sapSuiteAmcLabels");r.addClass("Top");r.writeClasses();r.write(">");w(c.getFirstYLabel(),"-top-left-lbl","Left",T);w(c.getMaxLabel(),"-top-center-lbl","Center",T);w(c.getLastYLabel(),"-top-right-lbl","Right",T);r.write("</div>");}if(l){r.write("<div");r.writeAttribute("id",c.getId()+"-left-labels");r.addClass("sapSuiteAmcSideLabels");r.addClass("Left");r.writeClasses();r.write(">");w(c.getFirstYLabel(),"-top-left-lbl","Top","Left");w(c.getFirstXLabel(),"-btm-left-lbl","Btm","Left");r.write("</div>");}r.write("<div");r.writeAttribute("id",c.getId()+"-canvas-cont");r.addClass("sapSuiteAmcCanvas");r.writeClasses();r.write(">");r.write("<canvas");r.writeAttribute("id",c.getId()+"-canvas");r.addStyle("width","100%");r.addStyle("height","100%");r.writeStyles();r.write("></canvas>");r.write("</div>");if(R){r.write("<div");r.writeAttribute("id",c.getId()+"-right-labels");r.addClass("sapSuiteAmcSideLabels");r.addClass("Right");r.writeClasses();r.write(">");w(c.getLastYLabel(),"-top-right-lbl","Top","Right");w(c.getLastXLabel(),"-btm-right-lbl","Btm","Right");r.write("</div>");}if(b){r.write("<div");r.writeAttribute("id",c.getId()+"-bottom-labels");r.addClass("sapSuiteAmcLabels");r.addClass("Btm");r.writeClasses();r.write(">");w(c.getFirstXLabel(),"-btm-left-lbl","Left",b);w(c.getMinLabel(),"-btm-center-lbl","Center",b);w(c.getLastXLabel(),"-btm-right-lbl","Right",b);r.write("</div>");}r.write("<div");r.writeAttribute("id",c.getId()+"-css-helper");r.addStyle("display","none");r.writeStyles();r.write("></div>");r.write("</div>");};return A;},true);};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.BulletMicroChartRenderer')){jQuery.sap.declare('sap.suite.ui.microchart.BulletMicroChartRenderer');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/suite/ui/microchart/BulletMicroChartRenderer",['jquery.sap.global'],function(){"use strict";var B={};B.render=function(r,c){var C=c._calculateChartData();var f=+C.forecastValuePct;var s=c.getSize();var S=c.getScale();var R=sap.ui.getCore().getConfiguration().getRTL();var o=R?"right":"left";var m=c.getMode();var d=(sap.suite.ui.microchart.BulletMicroChartModeType.Delta==m)?c._calculateDeltaValue():0;var I=c.getActual()&&c.getActual()._isValueSet;var b=c.getShowActualValue()&&(sap.m.Size.XS!=s)&&sap.suite.ui.microchart.BulletMicroChartModeType.Actual==m;var a=c.getShowDeltaValue()&&(sap.m.Size.XS!=s)&&sap.suite.ui.microchart.BulletMicroChartModeType.Delta==m;var e=c.getShowTargetValue()&&(sap.m.Size.XS!=s);var A=c.getActualValueLabel();var D=c.getDeltaValueLabel();var t=c.getTargetValueLabel();var g=c.getThresholds();var T=c.getTooltip_AsString();if(typeof T!=="string"){T="";}r.write("<div");r.writeControlData(c);r.addClass("sapSuiteBMCContent");r.addClass(s);if(c.hasListeners("press")){r.addClass("sapSuiteUiMicroChartPointer");r.writeAttribute("tabindex","0");}r.writeAttribute("role","presentation");r.writeAttributeEscaped("aria-label",c.getAltText().replace(/\s/g," ")+(sap.ui.Device.browser.firefox?"":" "+T));r.writeClasses();if(c.getWidth()){r.addStyle("width",c.getWidth());r.writeStyles();}r.writeAttribute("id",c.getId()+"-bc-content");r.writeAttributeEscaped("title",T);r.write(">");r.write("<div");r.addClass("sapSuiteBMCChart");r.addClass(s);r.writeClasses();r.writeAttribute("id",c.getId()+"-bc-chart");r.write(">");var v="";if(I&&b){var h=(A)?A:""+c.getActual().getValue();v=h+S;r.write("<div");r.addClass("sapSuiteBMCItemValue");r.addClass(c.getActual().getColor());r.addClass(s);r.writeClasses();r.writeStyles();r.writeAttribute("id",c.getId()+"-bc-item-value");r.write(">");r.writeEscaped(v);r.write("</div>");}else if(I&&c._isTargetValueSet&&a){var j=(D)?D:""+d;v=j+S;r.write("<div");r.addClass("sapSuiteBMCItemValue");r.addClass(c.getActual().getColor());r.addClass(s);r.writeClasses();r.writeStyles();r.writeAttribute("id",c.getId()+"-bc-item-value");r.write(">");r.write("&Delta;");r.writeEscaped(v);r.write("</div>");}for(var i=0;i<C.thresholdsPct.length;i++){if(g[i]._isValueSet){this.renderThreshold(r,c,C.thresholdsPct[i]);}}r.write("<div");r.writeAttribute("id",c.getId()+"-chart-bar");r.addClass("sapSuiteBMCBar");r.addClass(s);r.addClass(c.getScaleColor());r.writeClasses();r.write(">");r.write("</div>");if(c._isForecastValueSet&&m=="Actual"){r.write("<div");r.addClass("sapSuiteBMCForecastBarValue");r.addClass(c.getActual().getColor());r.addClass(s);r.writeClasses();r.addStyle("width",f+"%");r.writeStyles();r.writeAttribute("id",c.getId()+"-forecast-bar-value");r.write("></div>");}if(I){r.write("<div");r.addClass("sapSuiteBMCBarValueMarker");r.addClass(m);if(!c.getShowValueMarker()){r.addClass("sapSuiteBMCBarValueMarkerHidden");}r.addClass(c.getActual().getColor());r.addClass(s);r.writeClasses();r.addStyle(o,parseFloat(C.actualValuePct)+parseFloat(1)+"%");if(m=="Delta"&&C.actualValuePct<=C.targetValuePct){r.addStyle("margin","0");}r.writeStyles();r.writeAttribute("id",c.getId()+"-bc-bar-value-marker");r.write("></div>");if(m=="Actual"){r.write("<div");r.addClass("sapSuiteBMCBarValue");r.addClass(c.getActual().getColor());r.addClass(s);if(c._isForecastValueSet){r.addClass("sapSuiteBMCForecast");}r.writeClasses();r.addStyle("width",C.actualValuePct+"%");r.writeStyles();r.writeAttribute("id",c.getId()+"-bc-bar-value");r.write("></div>");}else if(c._isTargetValueSet&&m=="Delta"){r.write("<div");r.addClass("sapSuiteBMCBarValue");r.addClass(c.getActual().getColor());r.addClass(s);r.writeClasses();r.addStyle("width",Math.abs(C.actualValuePct-C.targetValuePct)+"%");r.addStyle(o,1+Math.min(C.actualValuePct,C.targetValuePct)+"%");r.writeStyles();r.writeAttribute("id",c.getId()+"-bc-bar-value");r.write("></div>");}}if(c._isTargetValueSet){r.write("<div");r.addClass("sapSuiteBMCTargetBarValue");r.addClass(s);r.writeClasses();r.addStyle(o,parseFloat(C.targetValuePct).toFixed(2)+"%");r.writeStyles();r.writeAttribute("id",c.getId()+"-bc-target-bar-value");r.write("></div>");if(e){var k=(t)?t:""+c.getTargetValue();var l=k+S;r.write("<div");r.addClass("sapSuiteBMCTargetValue");r.addClass(s);r.writeClasses();r.writeStyles();r.writeAttribute("id",c.getId()+"-bc-target-value");r.write(">");r.writeEscaped(l);r.write("</div>");}}r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-info");r.writeAttribute("aria-hidden","true");r.addStyle("display","none");r.writeStyles();r.write(">");r.writeEscaped(T);r.write("</div>");r.write("</div>");};B.renderThreshold=function(r,c,t){var o=sap.ui.getCore().getConfiguration().getRTL()?"right":"left";var v=0.98*t.valuePct+1;var C=t.color;var s=c.getSize();if(sap.m.ValueColor.Error==t.color){r.write("<div");r.addClass("sapSuiteBMCDiamond");r.addClass(s);r.addClass(C);r.writeClasses();r.addStyle(o,v+"%");r.writeStyles();r.write("></div>");}r.write("<div");r.addClass("sapSuiteBMCThreshold");r.addClass(s);r.addClass(C);r.writeClasses();r.addStyle(o,v+"%");r.writeStyles();r.write("></div>");};return B;},true);};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.ColumnMicroChartRenderer')){jQuery.sap.declare('sap.suite.ui.microchart.ColumnMicroChartRenderer');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/suite/ui/microchart/ColumnMicroChartRenderer",['jquery.sap.global'],function(){"use strict";var C={};C.render=function(r,c){function w(e,I,s,d){r.write("<div");r.writeAttribute("id",c.getId()+I);r.addClass("sapSuiteCmcLbl");r.addClass(s);r.addClass(e.getColor());if(d){r.addClass("W");}r.writeClasses();r.write(">");r.writeEscaped(e.getLabel());r.write("</div>");}r.write("<div");r.writeControlData(c);r.addClass("sapSuiteCmc");r.addClass(c.getSize());var t=c.getTooltip_AsString();if(typeof t!=="string"){t="";}r.writeAttributeEscaped("title",t);if(c.hasListeners("press")){r.addClass("sapSuiteUiMicroChartPointer");r.writeAttribute("tabindex","0");}r.writeAttribute("role","presentation");r.writeAttributeEscaped("aria-label",c.getAltText().replace(/\s/g," ")+(sap.ui.Device.browser.firefox?"":" "+t));r.writeClasses();r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.writeStyles();r.write(">");var l=c.getLeftTopLabel()&&c.getLeftTopLabel().getLabel()!="";var R=c.getRightTopLabel()&&c.getRightTopLabel().getLabel()!="";var L=c.getLeftBottomLabel()&&c.getLeftBottomLabel().getLabel()!="";var b=c.getRightBottomLabel()&&c.getRightBottomLabel().getLabel()!="";if(l||R){r.write("<div");r.writeAttribute("id",c.getId()+"-top-lbls");r.addClass("sapSuiteCmcLbls");r.addClass("T");r.writeClasses();r.write(">");var W=l^R;if(l){w(c.getLeftTopLabel(),"-left-top-lbl","L",W);}if(R){w(c.getRightTopLabel(),"-right-top-lbl","R",W);}r.write("</div>");}r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-content");r.addClass("sapSuiteCmcCnt");if(l||R){r.addClass("T");}if(L||b){r.addClass("B");}r.writeClasses();r.write(">");r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-bars");r.addClass("sapSuiteCmcBars");r.writeClasses();r.write(">");var a=c.getColumns().length;for(var i=0;i<a;i++){var o=c.getColumns()[i];r.write("<div");r.writeAttribute("id",c.getId()+"-bar-"+i);r.writeAttribute("data-bar-index",i);r.addClass("sapSuiteCmcBar");r.addClass(o.getColor());if(o.hasListeners("press")){r.writeAttribute("tabindex","0");r.writeAttribute("role","presentation");var B=c._getBarAltText(i);r.writeAttributeEscaped("title",B);r.writeAttributeEscaped("aria-label",B);r.addClass("sapSuiteUiMicroChartPointer");}r.writeClasses();r.write(">");r.write("</div>");}r.write("</div>");r.write("</div>");if(L||b){r.write("<div");r.writeAttribute("id",c.getId()+"-btm-lbls");r.addClass("sapSuiteCmcLbls");r.addClass("B");r.writeClasses();r.write(">");var d=L^b;if(L){w(c.getLeftBottomLabel(),"-left-btm-lbl","L",d);}if(b){w(c.getRightBottomLabel(),"-right-btm-lbl","R",d);}r.write("</div>");}r.write("<div");r.writeAttribute("id",c.getId()+"-hidden");r.writeAttribute("aria-hidden","true");r.writeAttribute("tabindex","0");r.writeStyles();r.write(">");r.write("</div>");r.write("</div>");};return C;},true);};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.ComparisonMicroChartRenderer')){jQuery.sap.declare('sap.suite.ui.microchart.ComparisonMicroChartRenderer');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/suite/ui/microchart/ComparisonMicroChartRenderer",['jquery.sap.global'],function(){"use strict";var C={};C.render=function(r,c){var t=c.getTooltip_AsString();if(typeof t!=="string"){t="";}r.write("<div");r.writeControlData(c);r.addClass("sapSuiteCmpChartContent");r.addClass(c.getSize());if(c.hasListeners("press")){r.writeAttribute("tabindex","0");r.addClass("sapSuiteUiMicroChartPointer");}r.writeClasses();r.writeAttribute("role","presentation");r.writeAttributeEscaped("aria-label",c.getAltText().replace(/\s/g," ")+(sap.ui.Device.browser.firefox?"":" "+t));if(c.getShrinkable()){r.addStyle("min-height","0px");}if(c.getWidth()){r.addStyle("width",c.getWidth());}if(c.getHeight()){r.addStyle("height",c.getHeight());}r.writeStyles();r.writeAttributeEscaped("title",t);r.write(">");this._renderInnerContent(r,c);r.write("<div");r.writeAttribute("id",c.getId()+"-info");r.writeAttribute("aria-hidden","true");r.addStyle("display","none");r.writeStyles();r.write(">");r.writeEscaped(t);r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-hidden");r.writeAttribute("aria-hidden","true");r.writeAttribute("tabindex","-1");r.writeStyles();r.write(">");r.write("</div>");r.write("</div>");};C._renderInnerContent=function(r,c){var a=c.getColorPalette().length;var b=0;var n=function(){if(a){if(b==a){b=0;}return c.getColorPalette()[b++];}};var d=c._calculateChartData();for(var i=0;i<d.length;i++){this._renderChartItem(r,c,d[i],i,n());}};C._renderChartItem=function(r,c,o,i,s){r.write("<div");r.writeAttribute("id",c.getId()+"-chart-item-"+i);r.addClass("sapSuiteCmpChartItem");r.addClass(c.getView());r.addClass(c.getSize());r.writeClasses();r.write(">");this._renderChartHeader(r,c,i,s);this._renderChartBar(r,c,o,i,s);r.write("</div>");};C._renderChartBar=function(r,c,o,i,s){var d=c.getData()[i];r.write("<div");r.writeAttribute("id",c.getId()+"-chart-item-bar-"+i);r.addClass("sapSuiteCmpChartBar");r.addClass(c.getView());r.addClass(c.getSize());if(c.getData()[i].hasListeners("press")){r.writeAttribute("tabindex","0");r.writeAttribute("role","presentation");r.writeAttributeEscaped("title",c._getBarAltText(i));r.writeAttributeEscaped("aria-label",c._getBarAltText(i));r.writeAttribute("data-bar-index",i);r.addClass("sapSuiteUiMicroChartPointer");}r.writeClasses();r.write(">");if(o.negativeNoValue>0){r.write("<div");r.writeAttribute("data-bar-index",i);r.addClass("sapSuiteCmpChartBarNegNoValue");r.writeClasses();r.addStyle("width",o.negativeNoValue+"%");r.writeStyles();r.write("></div>");}if(o.value>0){r.write("<div");r.writeAttribute("data-bar-index",i);r.addClass("sapSuiteCmpChartBarValue");r.addClass(d.getColor());r.writeClasses();r.addStyle("background-color",s);r.addStyle("width",o.value+"%");r.writeStyles();r.write("></div>");}if(o.positiveNoValue>0){r.write("<div");r.writeAttribute("data-bar-index",i);r.addClass("sapSuiteCmpChartBarNoValue");r.writeClasses();r.addStyle("width",o.positiveNoValue+"%");r.writeStyles();r.write("></div>");}r.write("</div>");};C._renderChartHeader=function(r,c,i,s){var d=c.getData()[i];var S=c.getScale();var D=d.getDisplayValue();var a=D?D:""+d.getValue();var v=a+S;r.write("<div");r.writeAttribute("id",c.getId()+"-chart-item-"+i+"-header");r.addClass("sapSuiteCmpChartItemHeader");r.addClass(c.getView());r.addClass(c.getSize());r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-chart-item-"+i+"-value");r.addClass("sapSuiteCmpChartItemValue");r.addClass(c.getSize());r.addClass(c.getView());if(!s){r.addClass(d.getColor());}if(d.getTitle()){r.addClass("T");}r.writeClasses();r.write(">");if(!isNaN(d.getValue())){r.writeEscaped(v);}r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-chart-item-"+i+"-title");r.addClass("sapSuiteCmpChartItemTitle");r.writeClasses();r.write(">");r.writeEscaped(d.getTitle());r.write("</div>");r.write("</div>");};return C;},true);};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.DeltaMicroChartRenderer')){jQuery.sap.declare('sap.suite.ui.microchart.DeltaMicroChartRenderer');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/suite/ui/microchart/DeltaMicroChartRenderer",['jquery.sap.global'],function(){"use strict";var D={};D.render=function(r,c){var d=c.getDisplayValue1();var s=c.getDisplayValue2();var v=c.getValue1();var V=c.getValue2();var a=c.getDeltaDisplayValue();var A=d?d:""+v;var b=s?s:""+V;var e=a?a:""+Math.abs(v-V).toFixed(Math.max(c._digitsAfterDecimalPoint(v),c._digitsAfterDecimalPoint(V)));var C=c.getColor();var t=c.getTooltip_AsString();if(typeof t!=="string"){t="";}var S=c.getSize();var n=(!c.getTitle1()&&!c.getTitle2());function g(l){return l?"Left":"Right";}r.write("<div");r.writeControlData(c);r.addClass("sapSuiteDmc");if(c.hasListeners("press")){r.addClass("sapSuiteUiMicroChartPointer");r.writeAttribute("tabindex","0");}r.addClass(S);r.writeAttribute("role","presentation");r.writeAttributeEscaped("aria-label",c.getAltText().replace(/\s/g," ")+(sap.ui.Device.browser.firefox?"":" "+t));r.writeAttributeEscaped("title",t);r.writeClasses();if(c.getWidth()){r.addStyle("width",c.getWidth());r.writeStyles();}r.write(">");r.write("<div");r.addClass("sapSuiteDmcCnt");r.addClass(S);r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-title1");r.addClass("sapSuiteDmcTitle");r.addClass("Top");r.writeClasses();r.write(">");r.writeEscaped(c.getTitle1());r.write("</div>");r.write("<div");r.addClass("sapSuiteDmcChart");r.addClass(S);if(n){r.addClass("NoTitles");}r.writeClasses();r.writeAttribute("id",c.getId()+"-dmc-chart");r.write(">");r.write("<div");r.addClass("sapSuiteDmcBar");r.addClass("Bar1");r.addClass(S);if(c._oChartData.delta.isMax){r.addClass("MaxDelta");}if(c._oChartData.bar1.isSmaller){r.addClass("Smaller");}r.addClass(g(c._oChartData.bar1.left));r.writeClasses();r.addStyle("width",c._oChartData.bar1.width+"%");r.writeStyles();r.writeAttribute("id",c.getId()+"-dmc-bar1");r.write(">");r.write("<div");r.addClass("sapSuiteDmcBarInternal");r.addClass(g(c._oChartData.bar2.left));r.writeClasses();r.write(">");r.write("</div>");r.write("</div>");r.write("<div");r.addClass("sapSuiteDmcBar");r.addClass("Bar2");r.addClass(S);if(c._oChartData.delta.isMax){r.addClass("MaxDelta");}if(c._oChartData.bar2.isSmaller){r.addClass("Smaller");}r.addClass(g(c._oChartData.bar2.left));r.writeClasses();r.addStyle("width",c._oChartData.bar2.width+"%");r.writeStyles();r.writeAttribute("id",c.getId()+"-dmc-bar2");r.write(">");r.write("<div");r.addClass("sapSuiteDmcBarInternal");r.addClass(g(c._oChartData.bar1.left));r.writeClasses();r.write(">");r.write("</div>");r.write("</div>");r.write("<div");r.addClass("sapSuiteDmcBar");r.addClass("Delta");r.addClass(S);if(!c._oChartData.delta.isMax){r.addClass("NotMax");}if(c._oChartData.delta.isZero){r.addClass("Zero");}if(c._oChartData.delta.isEqual){r.addClass("Equal");}r.addClass(g(c._oChartData.delta.left));r.writeClasses();r.addStyle("width",c._oChartData.delta.width+"%");r.writeStyles();r.writeAttribute("id",c.getId()+"-dmc-bar-delta");r.write(">");r.write("<div");r.addClass(C);r.addClass("sapSuiteDmcBarDeltaInt");r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.addClass("sapSuiteDmcBarDeltaStripe");r.addClass(g(true));if(c._oChartData.delta.isEqual){r.addClass("Equal");}r.addClass(c._oChartData.delta.isFirstStripeUp?"Up":"Down");r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.addClass("sapSuiteDmcBarDeltaStripe");r.addClass(g(false));r.addClass(c._oChartData.delta.isFirstStripeUp?"Down":"Up");r.writeClasses();r.write(">");r.write("</div>");r.write("</div>");r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-title2");r.addClass("sapSuiteDmcTitle");r.addClass("Btm");r.writeClasses();r.write(">");r.writeEscaped(c.getTitle2());r.write("</div>");r.write("</div>");r.write("<div");r.addClass("sapSuiteDmcLbls");r.addClass(S);r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-value1");r.addClass("sapSuiteDmcValue1");r.writeClasses();r.write(">");r.writeEscaped(A);r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-delta");r.addClass("sapSuiteDmcDelta");r.addClass(C);r.writeClasses();r.write(">");r.writeEscaped(e);r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-value2");r.addClass("sapSuiteDmcValue2");r.writeClasses();r.write(">");r.writeEscaped(b);r.write("</div>");r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-calc");r.addClass("sapSuiteDmcCalc");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-calc1");r.addClass("sapSuiteDmcCalc1");r.writeClasses();r.write("></div>");r.write("<div");r.writeAttribute("id",c.getId()+"-calc2");r.addClass("sapSuiteDmcCalc2");r.writeClasses();r.write("></div>");r.write("</div>");r.write("</div>");};return D;},true);};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.HarveyBallMicroChartRenderer')){jQuery.sap.declare('sap.suite.ui.microchart.HarveyBallMicroChartRenderer');sap.ui.define("sap/suite/ui/microchart/HarveyBallMicroChartRenderer",[],function(){"use strict";var H={};H.render=function(r,c){var R=sap.ui.getCore().getConfiguration().getRTL();var t=c.getTooltip_AsString();if(typeof t!=="string"){t="";}var T="";var v="";var V="";var f=false;var a=0;var C="";var s=false;if(c.getItems().length){var p=c.getItems()[0];a=p.getFraction();C=p.getColor();v=p.getFractionLabel()?p.getFractionLabel():v+p.getFraction();V=p.getFractionScale()?p.getFractionScale().substring(0,3):V;f=p.getFormattedLabel();}if(f){var F=c._parseFormattedValue(v);V=F.scale.substring(0,3);v=F.value;}var b=c.getTotal();var d=c.getTotalLabel()?c.getTotalLabel():""+c.getTotal();if(c.getTotalScale()){T=c.getTotalScale().substring(0,3);}if(c.getFormattedLabel()){var o=c._parseFormattedValue(d);T=o.scale.substring(0,3);d=o.value;}var i=5;if(v){v=(v.length>=i&&(v[i-1]==="."||v[i-1]===","))?v.substring(0,i-1):v.substring(0,i);}if(d){d=(d.length>=i&&(d[i-1]==="."||d[i-1]===","))?d.substring(0,i-1):d.substring(0,i);}if(c.getColorPalette().length>0){s=c.getColorPalette()[0];}var S=c.getSize();r.write("<div");r.writeControlData(c);r.writeAttributeEscaped("title",t);r.addClass("suiteHBMC");r.addClass(S);if(c.hasListeners("press")){r.addClass("sapSuiteUiMicroChartPointer");r.writeAttribute("tabindex","0");}r.writeClasses();if(c.getWidth()){r.addStyle("width",c.getWidth());}r.writeStyles();r.write(">");r.write("<div");r.addClass("suiteHBMCChartCnt");r.addClass(S);r.writeClasses();r.addStyle("display","inline-block");r.writeStyles();r.writeAttribute("role","presentation");r.writeAttributeEscaped("aria - label",c.getAltText().replace(/\s/g," ")+(sap.ui.Device.browser.firefox?"":" "+t));r.write(">");r.write("<svg");r.writeAttribute("id",c.getId()+"-harvey-ball");r.writeAttribute("width",c._oPath.size);r.writeAttribute("height",c._oPath.size);r.writeAttribute("focusable",false);r.write(">");r.write("<g>");r.write("<circle");r.writeAttribute("cx",c._oPath.center);r.writeAttribute("cy",c._oPath.center);r.writeAttribute("r",(sap.ui.getCore().getConfiguration().getTheme()==="sap_hcb")?c._oPath.center-1:c._oPath.center);r.addClass("suiteHBMCSBall");r.writeClasses();r.write("/>");if(a&&a>=b){r.write("<circle");r.writeAttribute("cx",c._oPath.center);r.writeAttribute("cy",c._oPath.center);r.writeAttribute("r",c._oPath.center-c._oPath.border);r.addClass("suiteHBMCSgmnt");r.addClass(C);r.writeClasses();if(c.getColorPalette().length>0){r.addStyle("fill",jQuery.sap.encodeHTML(c.getColorPalette()[0]));r.writeStyles();}r.write("/>");}else if(a>0){r.write("<path");r.writeAttribute("id",c.getId()+"-segment");r.addClass("suiteHBMCSgmnt");r.addClass(C);r.writeClasses();r.writeAttribute("d",c.serializePieChart());if(c.getColorPalette().length>0){r.addStyle("fill",jQuery.sap.encodeHTML(c.getColorPalette()[0]));r.writeStyles();}r.write("/>");}r.write("</g>");r.write("</svg>");r.write("</div>");r.write("<div");r.addClass("suiteHBMCValSclCnt");r.addClass(S);r.addClass(C);if(s){r.addClass("CP");}r.writeClasses();r.addStyle("display",c.getShowFractions()?"inline - block":"none");r.writeStyles();r.write(">");r.write("<p");r.write(">");this.renderLabel(r,c,[C,S,"suiteHBMCVal"],v,"-fraction");this.renderLabel(r,c,[C,S,"suiteHBMCValScale"],V,"-fraction-scale");r.write("</p>");r.write("</div>");r.write("<div");r.addClass("suiteHBMCTtlSclCnt");r.addClass(S);r.writeClasses();if(R){r.addStyle("left","0");}else{r.addStyle("right","0");}r.addStyle("display",c.getShowTotal()?"inline-block":"none");r.writeStyles();r.write(">");this.renderLabel(r,c,[C,S,"suiteHBMCTtl"],d,"-total");this.renderLabel(r,c,[C,S,"suiteHBMCTtlScale"],T,"-total-scale");r.write("</div>");r.write("</div>");};H.renderLabel=function(r,c,C,l,I){r.write("<span");r.writeAttribute("id",c.getId()+I);for(var i=0;i<C.length;i++){r.addClass(C[i]);}r.writeClasses();r.write(">");if(l){r.writeEscaped(l);}r.write("</span>");};return H;},true);};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.RadialMicroChartRenderer')){jQuery.sap.declare('sap.suite.ui.microchart.RadialMicroChartRenderer');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/suite/ui/microchart/RadialMicroChartRenderer",["jquery.sap.global"],function(q){"use strict";var R={};R.FORM_RATIO=1000;R.BACKGROUND_CIRCLE_BORDER_WIDTH=1;R.BACKGROUND_CIRCLE_RADIUS=500;R.CIRCLE_BORDER_WIDTH=87.5;R.CIRCLE_RADIUS=441.75;R.SVG_VIEWBOX_CENTER_FACTOR="50%";R.X_ROTATION=0;R.SWEEP_FLAG=1;R.NUMBER_FONT_SIZE=235;R.EDGE_CASE_SIZE_ACCESSIBLE_COLOR=54;R.EDGE_CASE_SIZE_SHOW_TEXT=46;R.EDGE_CASE_SIZE_MICRO_CHART=24;R.render=function(r,c){this._writeDivStartElement(c,r);this._writeSVGStartElement(r);this._writeBackground(r);if(this._renderingOfInnerContentIsRequired(c)){this._writeBorders(r);if(this._innerCircleRequired(c)){this._writeCircle(c,r);}else{this._writeCircleWithPathElements(c,r);}this._writeText(c,r);}r.write("</svg>");r.write("</div>");};R._writeDivStartElement=function(c,r){r.write("<div");r.writeControlData(c);var t=c._getTooltipText();if(t){r.writeAttributeEscaped("title",t);}r.writeAttribute("role","img");r.writeAttributeEscaped("aria-label",c._getAriaText());if(c.hasListeners("press")){r.addClass("sapSuiteUiMicroChartPointer");r.writeAttribute("tabindex","0");}r.addClass("sapSuiteUiMicroChartRMC");r.writeClasses();r.writeStyles();r.write(">");};R._writeSVGStartElement=function(r){var p;if(!sap.ui.getCore().getConfiguration().getRTL()){p="xMaxYMid meet";}else{p="xMinYMid meet";}r.write("<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 "+R.FORM_RATIO+' '+R.FORM_RATIO+"\" preserveAspectRatio=\""+p+"\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">");};R._writeBackground=function(r){r.write("<circle class=\"sapSuiteUiMicroChartRMCCircleBackground\" cx=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" cy=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" r=\""+R.BACKGROUND_CIRCLE_RADIUS+"\" stroke-width=\""+this.BACKGROUND_CIRCLE_BORDER_WIDTH+"\" />");};R._writeBorders=function(r){r.write("<circle class=\"sapSuiteUiMicroChartRMCHCBIncompleteBorder\" cx=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" cy=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" r=\""+(R.CIRCLE_RADIUS+R.CIRCLE_BORDER_WIDTH/2.0-R.BACKGROUND_CIRCLE_BORDER_WIDTH)+"\" stroke-width=\""+R.BACKGROUND_CIRCLE_BORDER_WIDTH+"\" />");r.write("<circle class=\"sapSuiteUiMicroChartRMCHCBIncompleteBorder\" cx=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" cy=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" r=\""+(R.CIRCLE_RADIUS-R.CIRCLE_BORDER_WIDTH/2.0+R.BACKGROUND_CIRCLE_BORDER_WIDTH)+"\" stroke-width=\""+R.BACKGROUND_CIRCLE_BORDER_WIDTH+"\" />");};R._writeCircle=function(c,r){r.write("<circle class=\""+this._getSVGStringForColor(this._getFullCircleColor(c),c)+"\" cx=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" cy=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" r=\""+R.CIRCLE_RADIUS+"\" fill=\"transparent\" stroke-width=\""+R.CIRCLE_BORDER_WIDTH+"px\" />");};R._writeCircleWithPathElements=function(c,r){var l=c.getPercentage()>50?1:0;var p=this._calculatePathCoordinates(c);this._writePath1(l,p,c,r);this._writePath2(l,p,c,r);};R._writePath1=function(l,p,c,r){var P="M"+p[0]+" "+p[1]+" A "+R.CIRCLE_RADIUS+" "+R.CIRCLE_RADIUS+", "+R.X_ROTATION+", "+l+", "+R.SWEEP_FLAG+", "+p[2]+" "+p[3];r.write("<path class=\"sapSuiteUiMicroChartRadialMicroChartPath"+this._getSVGStringForColor(this._getPathColor(c),c)+"d=\""+P+"\" fill=\"transparent\" stroke-width=\""+R.CIRCLE_BORDER_WIDTH+"px\" />");};R._writePath2=function(l,p,c,r){var P="M"+p[2]+" "+p[3]+" A "+R.CIRCLE_RADIUS+" "+R.CIRCLE_RADIUS+", "+R.X_ROTATION+", "+(1-l)+", "+R.SWEEP_FLAG+", "+p[0]+" "+p[1];r.write("<path class=\"sapSuiteUiMicroChartRadialMicroChartPath sapSuiteUiMicroChartRMCPathIncomplete\" d=\""+P+"\" fill=\"transparent\" stroke-width=\""+R.CIRCLE_BORDER_WIDTH+"px\" />");};R._writeText=function(c,r){r.write("<text class=\"sapSuiteUiMicroChartRMCFont\" aria-hidden=\"true\" text-anchor=\"middle\" alignment-baseline=\"middle\""+"\" font-size=\""+R.NUMBER_FONT_SIZE+"\" x=\""+R.SVG_VIEWBOX_CENTER_FACTOR+"\" y=\""+this._getVerticalViewboxCenterFactorForText()+"\"> "+this._generateTextContent(c)+"</text>");};R._renderingOfInnerContentIsRequired=function(c){if(c._getPercentageMode()||(c.getTotal()!==0)){return true;}else{return false;}};R._getSVGStringForColor=function(c,a){if(a._isValueColorInstanceOfValueColor()){return" "+c+"\"";}else if(c==="sapSuiteUiMicroChartRMCPathIncomplete"){return" "+c+"\"";}else{return"\" stroke=\""+c+"\"";}};R._getVerticalViewboxCenterFactorForText=function(){if(sap.ui.Device.browser.msie){return"55%";}else if(sap.ui.Device.browser.mozilla){return"56%";}else{return"51%";}};R._innerCircleRequired=function(c){if(c.getPercentage()>=100||c.getPercentage()<=0){return true;}else{return false;}};R._calculatePathCoordinates=function(c){var p=this._getPercentageForCircleRendering(c);var C=[];C.push(R.FORM_RATIO/2+R.CIRCLE_RADIUS*Math.cos(-Math.PI/2.0));C.push(R.FORM_RATIO/2+R.CIRCLE_RADIUS*Math.sin(-Math.PI/2.0));C.push(R.FORM_RATIO/2+R.CIRCLE_RADIUS*Math.cos(-Math.PI/2.0+p/100*2*Math.PI));C.push(R.FORM_RATIO/2+R.CIRCLE_RADIUS*Math.sin(-Math.PI/2.0+p/100*2*Math.PI));return C;};R._getPercentageForCircleRendering=function(c){var p=c.getPercentage();var P=p;if(p>99){P=99;}if(p<1){P=1;}return P;};R._handleOnAfterRendering=function(c){var p;if(c.getParent()instanceof sap.m.TileContent){this._adjustToTileContent(c);}else{if(c.getParent()!==undefined&&c.getParent()!==null&&c.getParent().getHeight!==undefined&&c.getParent().getHeight!==null){var P=parseFloat(c.getParent().$().height())-2;c.$().height(P);c.$().children("svg").height(P);}if(c.getParent()!==undefined&&c.getParent()!==null&&c.getParent().getWidth!==undefined&&c.getParent().getWidth!==null){p=parseFloat(c.getParent().$().width())-2;c.$().width(p);c.$().children("svg").width(p);}}if(parseInt(c.$().children("svg").css("height"),10)<R.EDGE_CASE_SIZE_MICRO_CHART||parseInt(c.$().children("svg").css("width"),10)<R.EDGE_CASE_SIZE_MICRO_CHART){c.$().hide();return;}var $=c.$().find("text");if(parseInt(c.$().children("svg").css("height"),10)<=R.EDGE_CASE_SIZE_SHOW_TEXT||parseInt(c.$().children("svg").css("width"),10)<=R.EDGE_CASE_SIZE_SHOW_TEXT){$.hide();}else{var C=$.attr("class");if(C){var t=this._getTextColorClass(c);if(C.indexOf(t)<0){$.attr("class",C+" "+t);}}}};R._adjustToTileContent=function(c){var p=c.getParent().$().css("min-width");c.getParent().$().width(p);if(sap.ui.Device.browser.msie||sap.ui.Device.browser.edge){c.$().width(parseInt(p,10)-16);}};R._getTextColorClass=function(c){var s=parseInt(q.sap.byId(c.getId()).children("svg").css("height"),10);if(s<=R.EDGE_CASE_SIZE_ACCESSIBLE_COLOR&&(!c._isValueColorInstanceOfValueColor()||c.getValueColor()===sap.m.ValueColor.Neutral)){return"sapSuiteUiMicroChartRMCAccessibleTextColor";}else{switch(c.getValueColor()){case sap.m.ValueColor.Good:return"sapSuiteUiMicroChartRMCGoodTextColor";case sap.m.ValueColor.Error:return"sapSuiteUiMicroChartRMCErrorTextColor";case sap.m.ValueColor.Critical:return"sapSuiteUiMicroChartRMCCriticalTextColor";default:return"sapSuiteUiMicroChartRMCNeutralTextColor";}}};R._getFullCircleColor=function(c){if(c.getPercentage()>=100){return this._getPathColor(c);}if(c.getPercentage()<=0){return"sapSuiteUiMicroChartRMCPathIncomplete";}};R._getPathColor=function(c){var v=c.getValueColor();if(c._isValueColorInstanceOfValueColor()){switch(v){case sap.m.ValueColor.Good:return"sapSuiteUiMicroChartRMCPathGood";case sap.m.ValueColor.Error:return"sapSuiteUiMicroChartRMCPathError";case sap.m.ValueColor.Critical:return"sapSuiteUiMicroChartRMCPathCritical";default:return"sapSuiteUiMicroChartRMCPathNeutral";}}else{return v;}};R._generateTextContent=function(c){if(c.getPercentage()===100){return c._rb.getText("RADIALMICROCHART_PERCENTAGE_TEXT",[100]);}if(c.getPercentage()===0){return c._rb.getText("RADIALMICROCHART_PERCENTAGE_TEXT",[0]);}if(c.getPercentage()>=100){q.sap.log.error("Values over 100%("+c.getPercentage()+"%) are not supported");return c._rb.getText("RADIALMICROCHART_PERCENTAGE_TEXT",[100]);}if(c.getPercentage()<=0){q.sap.log.error("Values below 0%("+c.getPercentage()+"%) are not supported");return c._rb.getText("RADIALMICROCHART_PERCENTAGE_TEXT",[0]);}return c._rb.getText("RADIALMICROCHART_PERCENTAGE_TEXT",[c.getPercentage()]);};return R;},true);};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.library')){jQuery.sap.declare('sap.suite.ui.microchart.library');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.library');jQuery.sap.require('sap.ui.core.Core');jQuery.sap.require('sap.m.library');sap.ui.define("sap/suite/ui/microchart/library",['jquery.sap.global','sap/ui/core/library','sap/ui/core/Core','sap/m/library'],function(q,c,C,l){"use strict";sap.ui.getCore().initLibrary({name:"sap.suite.ui.microchart",version:"1.36.12",dependencies:["sap.ui.core","sap.m"],types:["sap.suite.ui.microchart.AreaMicroChartViewType","sap.suite.ui.microchart.BulletMicroChartModeType","sap.suite.ui.microchart.CommonBackgroundType","sap.suite.ui.microchart.ComparisonMicroChartViewType","sap.suite.ui.microchart.LoadStateType"],interfaces:[],controls:["sap.suite.ui.microchart.AreaMicroChart","sap.suite.ui.microchart.BulletMicroChart","sap.suite.ui.microchart.ColumnMicroChart","sap.suite.ui.microchart.ComparisonMicroChart","sap.suite.ui.microchart.DeltaMicroChart","sap.suite.ui.microchart.HarveyBallMicroChart","sap.suite.ui.microchart.RadialMicroChart"],elements:["sap.suite.ui.microchart.AreaMicroChartPoint","sap.suite.ui.microchart.AreaMicroChartItem","sap.suite.ui.microchart.AreaMicroChartLabel","sap.suite.ui.microchart.BulletMicroChartData","sap.suite.ui.microchart.ColumnMicroChartData","sap.suite.ui.microchart.ColumnMicroChartLabel","sap.suite.ui.microchart.ComparisonMicroChartData","sap.suite.ui.microchart.HarveyBallMicroChartItem"]});sap.suite.ui.microchart.AreaMicroChartViewType={Normal:"Normal",Wide:"Wide"};sap.suite.ui.microchart.BulletMicroChartModeType={Actual:"Actual",Delta:"Delta"};sap.suite.ui.microchart.CommonBackgroundType={Lightest:"Lightest",ExtraLight:"ExtraLight",Light:"Light",MediumLight:"MediumLight",Medium:"Medium",Dark:"Dark",ExtraDark:"ExtraDark",Darkest:"Darkest",Transparent:"Transparent"};sap.suite.ui.microchart.ComparisonMicroChartViewType={Normal:"Normal",Wide:"Wide"};sap.suite.ui.microchart.LoadStateType={Loading:"Loading",Loaded:"Loaded",Failed:"Failed",Disabled:"Disabled"};return sap.suite.ui.microchart;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.AreaMicroChart')){jQuery.sap.declare('sap.suite.ui.microchart.AreaMicroChart');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');sap.ui.define("sap/suite/ui/microchart/AreaMicroChart",['jquery.sap.global','./library','sap/ui/core/Control'],function(q,l,C){"use strict";var A=C.extend("sap.suite.ui.microchart.AreaMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},height:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},maxXValue:{type:"float",group:"Misc",defaultValue:null},minXValue:{type:"float",group:"Misc",defaultValue:null},maxYValue:{type:"float",group:"Misc",defaultValue:null},minYValue:{type:"float",group:"Misc",defaultValue:null},view:{type:"sap.suite.ui.microchart.AreaMicroChartViewType",group:"Appearance",defaultValue:"Normal"},colorPalette:{type:"string[]",group:"Appearance",defaultValue:[]}},events:{press:{}},aggregations:{chart:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartItem"},maxThreshold:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartItem"},innerMaxThreshold:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartItem"},innerMinThreshold:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartItem"},minThreshold:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartItem"},target:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartItem"},firstXLabel:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartLabel"},firstYLabel:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartLabel"},lastXLabel:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartLabel"},lastYLabel:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartLabel"},maxLabel:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartLabel"},minLabel:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartLabel"},lines:{multiple:true,type:"sap.suite.ui.microchart.AreaMicroChartItem"}}}});A.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");this.setTooltip("{AltText}");};A.prototype._getCssValues=function(){this._cssHelper.className=Array.prototype.slice.call(arguments).join(" ");var c=window.getComputedStyle(this._cssHelper);if(c.backgroundColor==undefined){c.backgroundColor=c["background-color"];}if(c.outlineStyle==undefined){c.outlineStyle=c["outline-style"];}if(c.outlineWidth==undefined){c.outlineWidth=c["outline-width"];}return c;};A.prototype.__fillThresholdArea=function(c,p,P,a){c.beginPath();c.moveTo(p[0].x,p[0].y);for(var i=1,b=p.length;i<b;i++){c.lineTo(p[i].x,p[i].y);}for(var j=P.length-1;j>=0;j--){c.lineTo(P[j].x,P[j].y);}c.closePath();c.fillStyle="white";c.fill();c.fillStyle=a;c.fill();c.lineWidth=1;c.strokeStyle="white";c.stroke();c.strokeStyle=a;c.stroke();};A.prototype._renderDashedLine=function(c,p,d,D){if(c.setLineDash){c.setLineDash(D);this._renderLine(c,p,d);c.setLineDash([]);}else{c.beginPath();for(var i=0,a=p.length-1;i<a;i++){c._dashedLine(p[i].x,p[i].y,p[i+1].x,p[i+1].y,D);}c.stroke();}};A.prototype._renderLine=function(c,p,d){c.beginPath();c.moveTo(p[0].x,p[0].y);for(var i=1,a=p.length;i<a;i++){c.lineTo(p[i].x,p[i].y);}c.stroke();};A.prototype._renderTarget=function(c,d){if(d.target.length>1){var o=this._getCssValues("sapSuiteAmcTarget",this.getTarget().getColor());c.strokeStyle=o.color;c.lineWidth=parseFloat(o.width);if(o.outlineStyle=="dotted"){this._renderDashedLine(c,d.target,d,[parseFloat(o.outlineWidth),3]);}else{this._renderLine(c,d.target,d);}}else if(d.target.length==1){q.sap.log.warning("Target is not rendered because only 1 point was given");}};A.prototype._renderThresholdLine=function(c,p,d){if(p&&p.length){var o=this._getCssValues("sapSuiteAmcThreshold");c.strokeStyle=o.color;c.lineWidth=o.width;this._renderLine(c,p,d);}};A.prototype._fillMaxThreshold=function(c,d){if(d.maxThreshold.length>1){var o=this._getCssValues("sapSuiteAmcThreshold",this.getMaxThreshold().getColor());this.__fillThresholdArea(c,d.maxThreshold,[{x:d.maxThreshold[0].x,y:d.minY},{x:d.maxThreshold[d.maxThreshold.length-1].x,y:d.minY}],o.backgroundColor);this._renderThresholdLine(c,d.maxThreshold,d);}else if(d.maxThreshold.length==1){q.sap.log.warning("Max Threshold is not rendered because only 1 point was given");}};A.prototype._fillMinThreshold=function(c,d){if(d.minThreshold.length>1){var o=this._getCssValues("sapSuiteAmcThreshold",this.getMinThreshold().getColor());this.__fillThresholdArea(c,d.minThreshold,[{x:d.minThreshold[0].x,y:d.maxY},{x:d.minThreshold[d.minThreshold.length-1].x,y:d.maxY}],o.backgroundColor);}else if(d.minThreshold.length==1){q.sap.log.warning("Min Threshold is not rendered because only 1 point was given");}};A.prototype._fillThresholdArea=function(c,d){if(d.minThreshold.length>1&&d.maxThreshold.length>1){var o=this._getCssValues("sapSuiteAmcThreshold","Critical");this.__fillThresholdArea(c,d.maxThreshold,d.minThreshold,o.backgroundColor);}};A.prototype._fillInnerThresholdArea=function(c,d){if(d.innerMinThreshold.length>1&&d.innerMaxThreshold.length>1){var o=this._getCssValues("sapSuiteAmcThreshold",this.getInnerMaxThreshold().getColor());this.__fillThresholdArea(c,d.innerMaxThreshold,d.innerMinThreshold,o.backgroundColor);}else if(d.innerMinThreshold.length||d.innerMaxThreshold.length){q.sap.log.warning("Inner threshold area is not rendered because inner min and max threshold were not correctly set");}};A.prototype._renderChart=function(c,d){if(d.chart.length>1){var o=this._getCssValues("sapSuiteAmcChart",this.getChart().getColor());c.strokeStyle=o.color;c.lineWidth=parseFloat(o.width);this._renderLine(c,d.chart,d);}else if(d.chart.length==1){q.sap.log.warning("Actual values are not rendered because only 1 point was given");}};A.prototype._renderLines=function(c,d){var a=this.getColorPalette().length;var b=0;var t=this;var n=function(){if(a){if(b==a){b=0;}return t.getColorPalette()[b++];}};var o=this._getCssValues("sapSuiteAmcLine");c.lineWidth=parseFloat(o.width);var L=d.lines.length;for(var i=0;i<L;i++){if(d.lines[i].length>1){if(a){c.strokeStyle=n();}else{o=this._getCssValues("sapSuiteAmcLine",this.getLines()[i].getColor());c.strokeStyle=o.color;}this._renderLine(c,d.lines[i],d);}}};A.prototype._renderCanvas=function(){this._cssHelper=document.getElementById(this.getId()+"-css-helper");var L=this.$().find(".sapSuiteAmcSideLabels").css("width");this.$().find(".sapSuiteAmcCanvas, .sapSuiteAmcLabels").css("right",L).css("left",L);var a=document.getElementById(this.getId()+"-canvas");var b=window.getComputedStyle(a);var w=parseFloat(b.width);a.setAttribute("width",w?w:360);var h=parseFloat(b.height);a.setAttribute("height",h?h:242);var c=a.getContext("2d");c.lineJoin="round";c._dashedLine=function(x,y,e,f,g){var i=g.length;this.moveTo(x,y);var j=(e-x),k=(f-y);var s=j?k/j:1e15;var m=Math.sqrt(j*j+k*k);var n=0,o=true;while(m>=0.1){var p=g[n++%i];if(p>m){p=m;}var r=Math.sqrt(p*p/(1+s*s));if(j<0){r=-r;}x+=r;y+=s*r;this[o?'lineTo':'moveTo'](x,y);m-=p;o=!o;}};var d=this._calculateDimensions(a.width,a.height);this._fillMaxThreshold(c,d);this._fillMinThreshold(c,d);this._fillThresholdArea(c,d);this._renderThresholdLine(c,d.minThreshold,d);this._renderThresholdLine(c,d.maxThreshold,d);this._fillInnerThresholdArea(c,d);this._renderThresholdLine(c,d.innerMinThreshold,d);this._renderThresholdLine(c,d.innerMaxThreshold,d);this._renderTarget(c,d);this._renderChart(c,d);this._renderLines(c,d);};A.prototype._calculateDimensions=function(w,h){var m,b,c,d;m=b=c=d=undefined;var t=this;function e(){if(!t._isMinXValue||!t._isMaxXValue||!t._isMinYValue||!t._isMaxYValue){var n=t.getLines();if(t.getMaxThreshold()){n.push(t.getMaxThreshold());}if(t.getMinThreshold()){n.push(t.getMinThreshold());}if(t.getChart()){n.push(t.getChart());}if(t.getTarget()){n.push(t.getTarget());}if(t.getInnerMaxThreshold()){n.push(t.getInnerMaxThreshold());}if(t.getInnerMinThreshold()){n.push(t.getInnerMinThreshold());}for(var i=0,o=n.length;i<o;i++){var p=n[i].getPoints();for(var s=0,a=p.length;s<a;s++){var u=p[s].getXValue();if(u>m||m===undefined){m=u;}if(u<c||c===undefined){c=u;}u=p[s].getYValue();if(u>b||b===undefined){b=u;}if(u<d||d===undefined){d=u;}}}}if(t._isMinXValue){c=t.getMinXValue();}if(t._isMaxXValue){m=t.getMaxXValue();}if(t._isMinYValue){d=t.getMinYValue();}if(t._isMaxYValue){b=t.getMaxYValue();}}e();var r={minY:0,minX:0,maxY:h,maxX:w,lines:[]};var k;var D=m-c;if(D>0){k=w/D;}else if(D==0){k=0;r.maxX/=2;}else{q.sap.log.warning("Min X is more than max X");}var f;var g=b-d;if(g>0){f=h/(b-d);}else if(g==0){f=0;r.maxY/=2;}else{q.sap.log.warning("Min Y is more than max Y");}function j(a){var R=sap.ui.getCore().getConfiguration().getRTL();var n=function(V){var x=k*(V-c);if(R){x=r.maxX-x;}return x;};var o=function(V){return r.maxY-f*(V-d);};var p=[];if(a&&k!=undefined&&f!=undefined){var P=a.getPoints();var L=P.length;var s,y,u,v;if(L==1){u=P[0].getXValue();v=P[0].getYValue();if(u==undefined^v==undefined){var z,B;if(u==undefined){B=y=o(v);s=r.minX;z=r.maxX;}else{z=s=n(u);y=r.minY;B=r.maxY;}p.push({x:s,y:y},{x:z,y:B});}else{q.sap.log.warning("Point with coordinates ["+u+" "+v+"] ignored");}}else{for(var i=0;i<L;i++){u=P[i].getXValue();v=P[i].getYValue();if(u!=undefined&&v!=undefined){s=n(u);y=o(v);p.push({x:s,y:y});}else{q.sap.log.warning("Point with coordinates ["+u+" "+v+"] ignored");}}}}return p;}r.maxThreshold=j(t.getMaxThreshold());r.minThreshold=j(t.getMinThreshold());r.chart=j(t.getChart());r.target=j(t.getTarget());r.innerMaxThreshold=j(t.getInnerMaxThreshold());r.innerMinThreshold=j(t.getInnerMinThreshold());var L=t.getLines().length;for(var i=0;i<L;i++){r.lines.push(j(t.getLines()[i]));}return r;};A.prototype.setMinXValue=function(v,s){this._isMinXValue=this._isNumber(v);return this.setProperty("minXValue",this._isMinXValue?v:NaN,s);};A.prototype.setMaxXValue=function(v,s){this._isMaxXValue=this._isNumber(v);return this.setProperty("maxXValue",this._isMaxXValue?v:NaN,s);};A.prototype.setMinYValue=function(v,s){this._isMinYValue=this._isNumber(v);return this.setProperty("minYValue",this._isMinYValue?v:NaN,s);};A.prototype.setMaxYValue=function(v,s){this._isMaxYValue=this._isNumber(v);return this.setProperty("maxYValue",this._isMaxYValue?v:NaN,s);};A.prototype._isNumber=function(n){return typeof n==='number'&&!isNaN(n)&&isFinite(n);};A.prototype.onAfterRendering=function(){this._renderCanvas();};A.prototype.ontap=function(e){if(sap.ui.Device.browser.internet_explorer){this.$().focus();}this.firePress();};A.prototype.onkeydown=function(e){if(e.which==q.sap.KeyCodes.SPACE){e.preventDefault();}};A.prototype.onkeyup=function(e){if(e.which==q.sap.KeyCodes.ENTER||e.which==q.sap.KeyCodes.SPACE){this.firePress();e.preventDefault();}};A.prototype.attachEvent=function(e,d,f,L){sap.ui.core.Control.prototype.attachEvent.call(this,e,d,f,L);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer");}return this;};A.prototype.detachEvent=function(e,f,L){sap.ui.core.Control.prototype.detachEvent.call(this,e,f,L);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer");}return this;};A.prototype._getLocalizedColorMeaning=function(c){return this._oRb.getText(("SEMANTIC_COLOR_"+c).toUpperCase());};A.prototype.getAltText=function(){var a="";var f=this.getFirstXLabel();var F=this.getFirstYLabel();var L=this.getLastXLabel();var o=this.getLastYLabel();var m=this.getMinLabel();var M=this.getMaxLabel();var b=this.getChart();var t=this.getTarget();var I=true;if(f&&f.getLabel()||F&&F.getLabel()){a+=(I?"":"\n")+this._oRb.getText(("AREAMICROCHART_START"))+": "+(f?f.getLabel():"")+" "+(F?F.getLabel()+" "+this._getLocalizedColorMeaning(F.getColor()):"");I=false;}if(L&&L.getLabel()||o&&o.getLabel()){a+=(I?"":"\n")+this._oRb.getText(("AREAMICROCHART_END"))+": "+(L?L.getLabel():"")+" "+(o?o.getLabel()+" "+this._getLocalizedColorMeaning(o.getColor()):"");I=false;}if(m&&m.getLabel()){a+=(I?"":"\n")+this._oRb.getText(("AREAMICROCHART_MINIMAL_VALUE"))+": "+m.getLabel()+" "+this._getLocalizedColorMeaning(m.getColor());I=false;}if(M&&M.getLabel()){a+=(I?"":"\n")+this._oRb.getText(("AREAMICROCHART_MAXIMAL_VALUE"))+": "+M.getLabel()+" "+this._getLocalizedColorMeaning(M.getColor());I=false;}if(b&&b.getPoints()&&b.getPoints().length>0){a+=(I?"":"\n")+this._oRb.getText(("AREAMICROCHART_ACTUAL_VALUES"))+":";I=false;var c=b.getPoints();for(var i=0;i<c.length;i++){a+=" "+c[i].getY();}}if(t&&t.getPoints()&&t.getPoints().length>0){a+=(I?"":"\n")+this._oRb.getText(("AREAMICROCHART_TARGET_VALUES"))+":";var T=t.getPoints();for(var j=0;j<T.length;j++){a+=" "+T[j].getY();}}for(var k=0;k<this.getLines().length;k++){var d=this.getLines()[k];if(d.getPoints()&&d.getPoints().length>0){a+=(I?"":"\n")+d.getTitle()+":";var e=d.getPoints();for(var y=0;y<e.length;y++){a+=" "+e[y].getY();}if(this.getColorPalette().length==0){a+=" "+this._getLocalizedColorMeaning(d.getColor());}}}return a;};A.prototype.getTooltip_AsString=function(){var t=this.getTooltip();var T=this.getAltText();if(typeof t==="string"||t instanceof String){T=t.split("{AltText}").join(T).split("((AltText))").join(T);return T;}return t?t:"";};A.prototype.clone=function(i,L,o){var c=sap.ui.core.Control.prototype.clone.apply(this,arguments);c._isMinXValue=this._isMinXValue;c._isMaxXValue=this._isMaxXValue;c._isMinYValue=this._isMinYValue;c._isMaxYValue=this._isMaxYValue;return c;};return A;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.AreaMicroChartItem')){jQuery.sap.declare('sap.suite.ui.microchart.AreaMicroChartItem');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/suite/ui/microchart/AreaMicroChartItem",['jquery.sap.global','./library','sap/ui/core/Element'],function(q,l,E){"use strict";var A=E.extend("sap.suite.ui.microchart.AreaMicroChartItem",{metadata:{library:"sap.suite.ui.microchart",properties:{color:{group:"Misc",type:"sap.m.ValueColor",defaultValue:"Neutral"},title:{type:"string",group:"Misc",defaultValue:null}},aggregations:{"points":{multiple:true,type:"sap.suite.ui.microchart.AreaMicroChartPoint"}}}});return A;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.AreaMicroChartLabel')){jQuery.sap.declare('sap.suite.ui.microchart.AreaMicroChartLabel');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/suite/ui/microchart/AreaMicroChartLabel",['jquery.sap.global','./library','sap/ui/core/Element'],function(q,l,E){"use strict";var A=E.extend("sap.suite.ui.microchart.AreaMicroChartLabel",{metadata:{library:"sap.suite.ui.microchart",properties:{color:{group:"Misc",type:"sap.m.ValueColor",defaultValue:"Neutral"},label:{type:"string",group:"Misc",defaultValue:""}}}});return A;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.AreaMicroChartPoint')){jQuery.sap.declare('sap.suite.ui.microchart.AreaMicroChartPoint');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/suite/ui/microchart/AreaMicroChartPoint",['jquery.sap.global','./library','sap/ui/core/Element'],function(q,l,E){"use strict";var A=E.extend("sap.suite.ui.microchart.AreaMicroChartPoint",{metadata:{library:"sap.suite.ui.microchart",properties:{x:{type:"float",group:"Misc",defaultValue:null},y:{type:"float",group:"Misc",defaultValue:null}}}});A.prototype.setX=function(v,s){this._isXValue=this._isNumber(v);return this.setProperty("x",this._isXValue?v:NaN,s);};A.prototype.setY=function(v,s){this._isYValue=this._isNumber(v);return this.setProperty("y",this._isYValue?v:NaN,s);};A.prototype.getXValue=function(){return this._isXValue?this.getX():undefined;};A.prototype.getYValue=function(){return this._isYValue?this.getY():undefined;};A.prototype._isNumber=function(n){return typeof n=='number'&&!isNaN(n)&&isFinite(n);};A.prototype.clone=function(i,L,o){var c=sap.ui.core.Control.prototype.clone.apply(this,arguments);c._isXValue=this._isXValue;c._isYValue=this._isYValue;return c;};return A;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.BulletMicroChart')){jQuery.sap.declare('sap.suite.ui.microchart.BulletMicroChart');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');sap.ui.define("sap/suite/ui/microchart/BulletMicroChart",['jquery.sap.global','./library','sap/ui/core/Control'],function(q,l,C){"use strict";var B=C.extend("sap.suite.ui.microchart.BulletMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{size:{type:"sap.m.Size",group:"Misc",defaultValue:"Auto"},mode:{type:"sap.suite.ui.microchart.BulletMicroChartModeType",group:"Misc",defaultValue:"Actual"},scale:{type:"string",group:"Misc",defaultValue:""},forecastValue:{type:"float",group:"Misc",defaultValue:null},targetValue:{type:"float",group:"Misc",defaultValue:null},minValue:{type:"float",group:"Misc",defaultValue:null},maxValue:{type:"float",group:"Misc",defaultValue:null},showActualValue:{type:"boolean",group:"Misc",defaultValue:"true"},showDeltaValue:{type:"boolean",group:"Misc",defaultValue:"true"},showTargetValue:{type:"boolean",group:"Misc",defaultValue:"true"},showValueMarker:{type:"boolean",group:"Misc",defaultValue:"false"},actualValueLabel:{type:"string",group:"Misc",defaultValue:""},deltaValueLabel:{type:"string",group:"Misc",defaultValue:""},targetValueLabel:{type:"string",group:"Misc",defaultValue:""},width:{type:"sap.ui.core.CSSSize",group:"Misc"},scaleColor:{type:"sap.suite.ui.microchart.CommonBackgroundType",group:"Misc",defaultValue:"MediumLight"}},aggregations:{actual:{type:"sap.suite.ui.microchart.BulletMicroChartData",multiple:false},thresholds:{type:"sap.suite.ui.microchart.BulletMicroChartData",multiple:true,singularName:"threshold"}},events:{press:{}}}});B.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");this.setTooltip("{AltText}");};B.prototype._calculateChartData=function(){var s=98;var d=this.getThresholds();var t=[];var T=this.getTargetValue();var f=this.getForecastValue();var a=this.getActual()&&this.getActual().getValue()?this.getActual().getValue():0;var v=[];var L=0;var h=0;if(this.getActual()&&this.getActual()._isValueSet){v.push(a);}if(this._isForecastValueSet){v.push(f);}if(this._isTargetValueSet){v.push(T);}if(this._isMinValueSet){v.push(this.getMinValue());}if(this._isMaxValueSet){v.push(this.getMaxValue());}for(var D=0;D<d.length;D++){v.push(d[D].getValue());}var b=0;if(v.length>0){L=h=v[0];for(var j=0;j<v.length;j++){if(v[j]<L){L=v[j];}if(v[j]>h){h=v[j];}}h=(h<0&&h<3*(L-h))?0:h;L=(L>0&&L>3*(h-L))?0:L;b=h-L;for(var i=0;i<d.length;i++){t[i]={color:d[i].getColor(),valuePct:(!d[i]._isValueSet||b==0)?0:((d[i].getValue()-L)*s/b).toFixed(2)};}}return{actualValuePct:(!this.getActual()||!this.getActual()._isValueSet||b==0)?0:(0.05+(a-L)*s/b).toFixed(2),targetValuePct:(!this._isTargetValueSet||b==0)?0:((T-L)*s/b).toFixed(2),forecastValuePct:(!this._isForecastValueSet||b==0)?0:((f-L)*s/b).toFixed(2),thresholdsPct:t,fScaleWidthPct:s};};B.prototype._digitsAfterDecimalPoint=function(v){var a=(""+v).match(/[.,](\d+)/g);return(a)?(""+a).length-1:0;};B.prototype._calculateDeltaValue=function(){if(!this.getActual()._isValueSet||!this._isTargetValueSet){return 0;}else{var a=this.getActual().getValue();var t=this.getTargetValue();return Math.abs(a-t).toFixed(Math.max(this._digitsAfterDecimalPoint(a),this._digitsAfterDecimalPoint(t)));}};B.prototype.setMinValue=function(m,s){this._isMinValueSet=this._fnIsNumber(m);return this.setProperty("minValue",this._isMinValueSet?m:NaN,s);};B.prototype.setMaxValue=function(m,s){this._isMaxValueSet=this._fnIsNumber(m);return this.setProperty("maxValue",this._isMaxValueSet?m:NaN,s);};B.prototype.setTargetValue=function(t,s){this._isTargetValueSet=this._fnIsNumber(t);return this.setProperty("targetValue",this._isTargetValueSet?t:NaN,s);};B.prototype.setForecastValue=function(f,s){this._isForecastValueSet=this._fnIsNumber(f);return this.setProperty("forecastValue",this._isForecastValueSet?f:NaN,s);};B.prototype.ontap=function(e){if(sap.ui.Device.browser.internet_explorer){this.$().focus();}this.firePress();};B.prototype.onkeydown=function(e){if(e.which==q.sap.KeyCodes.SPACE){e.preventDefault();}};B.prototype.onkeyup=function(e){if(e.which==q.sap.KeyCodes.ENTER||e.which==q.sap.KeyCodes.SPACE){this.firePress();e.preventDefault();}};B.prototype._fnIsNumber=function(n){return typeof n=='number'&&!isNaN(n)&&isFinite(n);};B.prototype.attachEvent=function(e,d,f,L){sap.ui.core.Control.prototype.attachEvent.call(this,e,d,f,L);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer");}return this;};B.prototype.detachEvent=function(e,f,L){sap.ui.core.Control.prototype.detachEvent.call(this,e,f,L);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer");}return this;};B.prototype.onAfterRendering=function(){if(this._sBarResizeHandlerId){sap.ui.core.ResizeHandler.deregister(this._sBarResizeHandlerId);}var h=q.sap.domById(this.getId()+"-chart-bar");this._sBarResizeHandlerId=sap.ui.core.ResizeHandler.register(h,q.proxy(this._adjustLabelsPos,this));this._adjustLabelsPos();if(this.getShowValueMarker()){this._adjustValueToMarker();}};B.prototype.exit=function(){sap.ui.core.ResizeHandler.deregister(this._sBarResizeHandlerId);};B.prototype._adjustLabelsPos=function(){var r=sap.ui.getCore().getConfiguration().getRTL();var t=q.sap.byId(this.getId()+"-bc-target-bar-value");var c=q.sap.byId(this.getId()+"-chart-bar");var f=c.width();if(f){var T=0;if(t&&t.offset()){T=t.offset().left-c.offset().left;if(r){T=f-T;}this._adjustLabelPos(q.sap.byId(this.getId()+"-bc-target-value"),f,T,r);}var v=q.sap.byId(this.getId()+"-bc-bar-value-marker");if(v&&v.offset()){var a=v.offset().left-c.offset().left;if(r){a=f-a;}if((sap.suite.ui.microchart.BulletMicroChartModeType.Delta==this.getMode())){a=(a+T)/2;}this._adjustLabelPos(q.sap.byId(this.getId()+"-bc-item-value"),f,a,r);}}};B.prototype._adjustLabelPos=function(L,f,o,r){var O=r?"right":"left";var a=L.width();if(a>f){L.css("width",""+f+"px");L.css(O,"0");}else{var b=o-0.5*a;if(b<0){b=0;}if(b+a>f){b=f-a;}L.css(O,b);L.css("width",""+(parseInt(a,10)+1)+"px");}};B.prototype._adjustValueToMarker=function(){var v=q.sap.byId(this.getId()+"-bc-bar-value");var m=q.sap.byId(this.getId()+"-bc-bar-value-marker");if(v.offset()&&m.offset()){var V=v.width();var f=v.offset().left;var M=m.width();var a=m.offset().left;if(sap.ui.getCore().getConfiguration().getRTL()){if(a<f){m.css("right","");m.offset({left:f});}if(a+M>f+V){m.css("right","");m.offset({left:f+V-M});}}else{if(a<f){m.offset({left:f});}if(a+M>f+V){v.width(a+M-f);}}}};B.prototype._getLocalizedColorMeaning=function(c){return this._oRb.getText(("SEMANTIC_COLOR_"+c).toUpperCase());};B.prototype.getAltText=function(){var I=this.getActual()&&this.getActual()._isValueSet;var s=this.getScale();var t=this.getTargetValueLabel();var m=!this.getActual()||!this.getActual().getColor()?"":this._getLocalizedColorMeaning(this.getActual().getColor());var a="";if(I){var A=this.getActualValueLabel();var b=(A)?A:""+this.getActual().getValue();a+=this._oRb.getText("BULLETMICROCHART_ACTUAL_TOOLTIP",[b+s,m]);}if(this.getMode()=="Delta"){if(this._isTargetValueSet&&I){var d=this.getDeltaValueLabel();var D=(d)?d:""+this._calculateDeltaValue();a+="\n"+this._oRb.getText("BULLETMICROCHART_DELTA_TOOLTIP",[D+s,m]);}}else{if(this._isForecastValueSet){a+=(this._isForecastValueSet)?"\n"+this._oRb.getText("BULLETMICROCHART_FORECAST_TOOLTIP",[this.getForecastValue()+s,m]):"";}}if(this._isTargetValueSet){var T=(t)?t:""+this.getTargetValue();a+="\n"+this._oRb.getText("BULLETMICROCHART_TARGET_TOOLTIP",[T+s]);}var c=this.getThresholds().sort(function(f,S){return f.getValue()-S.getValue();});for(var i=0;i<c.length;i++){var o=c[i];a+="\n"+this._oRb.getText("BULLETMICROCHART_THRESHOLD_TOOLTIP",[o.getValue()+this.getScale(),this._getLocalizedColorMeaning(o.getColor())]);}return a;};B.prototype.getTooltip_AsString=function(){var t=this.getTooltip();var T=this.getAltText();if(typeof t==="string"||t instanceof String){T=t.split("{AltText}").join(T).split("((AltText))").join(T);return T;}return t?t:"";};B.prototype.clone=function(i,L,o){var c=sap.ui.core.Control.prototype.clone.apply(this,arguments);c._isMinValueSet=this._isMinValueSet;c._isMaxValueSet=this._isMaxValueSet;c._isForecastValueSet=this._isForecastValueSet;c._isTargetValueSet=this._isTargetValueSet;return c;};return B;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.BulletMicroChartData')){jQuery.sap.declare('sap.suite.ui.microchart.BulletMicroChartData');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/suite/ui/microchart/BulletMicroChartData",['jquery.sap.global','./library','sap/ui/core/Element'],function(q,l,E){"use strict";var B=E.extend("sap.suite.ui.microchart.BulletMicroChartData",{metadata:{library:"sap.suite.ui.microchart",properties:{value:{type:"float",group:"Misc",defaultValue:"0"},color:{type:"sap.m.ValueColor",group:"Misc",defaultValue:"Neutral"}}}});B.prototype.setValue=function(v,s){this._isValueSet=this._fnIsNumber(v);return this.setProperty("value",this._isValueSet?v:NaN,s);};B.prototype._fnIsNumber=function(n){return typeof n=='number'&&!isNaN(n)&&isFinite(n);};B.prototype.clone=function(i,L,o){var c=sap.ui.core.Control.prototype.clone.apply(this,arguments);c._isValueSet=this._isValueSet;return c;};return B;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.ColumnMicroChart')){jQuery.sap.declare('sap.suite.ui.microchart.ColumnMicroChart');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');sap.ui.define("sap/suite/ui/microchart/ColumnMicroChart",['jquery.sap.global','./library','sap/ui/core/Control'],function(q,l,C){"use strict";var a=C.extend("sap.suite.ui.microchart.ColumnMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{size:{group:"Misc",type:"sap.m.Size",defaultValue:"Auto"},width:{group:"Misc",type:"sap.ui.core.CSSSize"},height:{group:"Misc",type:"sap.ui.core.CSSSize"}},events:{press:{}},aggregations:{columns:{multiple:true,type:"sap.suite.ui.microchart.ColumnMicroChartData",defaultValue:null},leftTopLabel:{multiple:false,type:"sap.suite.ui.microchart.ColumnMicroChartLabel",defaultValue:null},rightTopLabel:{multiple:false,type:"sap.suite.ui.microchart.ColumnMicroChartLabel",defaultValue:null},leftBottomLabel:{multiple:false,type:"sap.suite.ui.microchart.ColumnMicroChartLabel",defaultValue:null},rightBottomLabel:{multiple:false,type:"sap.suite.ui.microchart.ColumnMicroChartLabel",defaultValue:null}}}});a.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");this.setTooltip("{AltText}");};a.prototype.onAfterRendering=function(){if(this._sChartResizeHandlerId){sap.ui.core.ResizeHandler.deregister(this._sChartResizeHandlerId);}this._sChartResizeHandlerId=sap.ui.core.ResizeHandler.register(q.sap.domById(this.getId()),q.proxy(this._calcColumns,this));this._fChartWidth=undefined;this._fChartHeight=undefined;this._aBars=[];var c=this.getColumns().length;for(var i=0;i<c;i++){this._aBars.push({});}this._calcColumns();};a.prototype.exit=function(){sap.ui.core.ResizeHandler.deregister(this._sChartResizeHandlerId);};a.prototype._calcColumns=function(){var c=this.getColumns().length;if(c){var f=parseFloat(this.$().css("width"));if(f!=this._fChartWidth){this._fChartWidth=f;var b=0;var B;if(c>1){B=q.sap.byId(this.getId()+"-bar-1");var r=sap.ui.getCore().getConfiguration().getRTL();b=parseInt(B.css("margin-"+(r?"right":"left")),10);}else{B=q.sap.byId(this.getId()+"-bar-0");}var d=parseInt(B.css("min-width"),10);this._calcColumnsWidth(b,d,f,this._aBars);}var e=parseFloat(this.$().css("height"));if(e!=this._fChartHeight){this._fChartHeight=e;this._calcColumnsHeight(e,this._aBars);}for(var i=0;i<c;i++){q.sap.byId(this.getId()+"-bar-"+i).css(this._aBars[i]);}if(this._aBars.overflow){q.sap.log.warning(this.toString()+" Chart overflow","Some columns were not rendered");}}};a.prototype._calcColumnsWidth=function(c,b,f,B){var d=this.getColumns().length;var v=Math.floor((f+c)/(b+c));var e=Math.floor((f+c)/Math.min(v,d))-c;var s=e+"px";for(var i=0;i<d;i++){if(i<v){B[i].width=s;B[i].display="inline-block";}else{B[i].display="none";}}B.overflow=v!=d;};a.prototype._calcColumnsHeight=function(c,b){var d=this.getColumns().length;var m,M,v;m=M=0;for(var i=0;i<d;i++){var o=this.getColumns()[i];if(m<o.getValue()){m=o.getValue();}else if(M>o.getValue()){M=o.getValue();}}var D=m-M;var O=D/c;var f,t;f=t=0;for(var e=0;e<d;e++){v=this.getColumns()[e].getValue();if(Math.abs(v)<O){if(v>=0){if(v==m){t=O-v;}}else if(v==M){f=O+v;}}}if(t){m+=t;M-=t;}if(f){m-=f;M+=f;}var n=0-O;for(var g=0;g<d;g++){v=this.getColumns()[g].getValue();var h=v;if(v>=0){h=Math.max(h+t-f,O);}else{h=Math.min(h+t-f,n);}b[g].value=h;}function j(v){return(v/D*100).toFixed(2)+"%";}var z=j(m);for(var k=0;k<d;k++){v=b[k].value;b[k].top=(v<0)?z:j(m-v);b[k].height=j(Math.abs(v));}};a.prototype.attachEvent=function(e,d,f,L){sap.ui.core.Control.prototype.attachEvent.call(this,e,d,f,L);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer");}return this;};a.prototype.detachEvent=function(e,f,L){sap.ui.core.Control.prototype.detachEvent.call(this,e,f,L);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer");}return this;};a.prototype.getLocalizedColorMeaning=function(c){if(c){return this._oRb.getText(("SEMANTIC_COLOR_"+c).toUpperCase());}};a.prototype.getAltText=function(){var A="";var I=true;var L=this.getLeftTopLabel();var r=this.getRightTopLabel();var o=this.getLeftBottomLabel();var R=this.getRightBottomLabel();var c;if(L&&L.getLabel()||o&&o.getLabel()){if(L){c=L.getColor();}else if(o){c=o.getColor();}else{c="";}A+=(I?"":"\n")+this._oRb.getText(("COLUMNMICROCHART_START"))+": "+(o?o.getLabel()+" ":"")+(L?L.getLabel()+" ":"")+this.getLocalizedColorMeaning(c);I=false;}if(r&&r.getLabel()||R&&R.getLabel()){if(r){c=r.getColor();}else if(R){c=R.getColor();}else{c="";}A+=(I?"":"\n")+this._oRb.getText(("COLUMNMICROCHART_END"))+": "+(R?R.getLabel()+" ":"")+(r?r.getLabel()+" ":"")+this.getLocalizedColorMeaning(c);I=false;}var b=this.getColumns();for(var i=0;i<b.length;i++){var B=b[i];var m=this.getLocalizedColorMeaning(B.getColor());A+=((!I||i!=0)?"\n":"")+B.getLabel()+" "+B.getValue()+" "+m;}return A;};a.prototype.getTooltip_AsString=function(){var t=this.getTooltip();var T=this.getAltText();if(typeof t==="string"||t instanceof String){T=t.split("{AltText}").join(T).split("((AltText))").join(T);return T;}return t?t:"";};a.prototype.ontap=function(e){if(sap.ui.Device.browser.edge){this.onclick(e);}};a.prototype.onclick=function(e){if(!this.fireBarPress(e)){if(sap.ui.Device.browser.internet_explorer||sap.ui.Device.browser.edge){this.$().focus();}this.firePress();}};a.prototype.onkeydown=function(e){var t,f;switch(e.keyCode){case q.sap.KeyCodes.SPACE:e.preventDefault();break;case q.sap.KeyCodes.ARROW_LEFT:case q.sap.KeyCodes.ARROW_UP:f=this.$().find(":focusable");t=f.index(e.target);if(f.length>0){f.eq(t-1).get(0).focus();e.preventDefault();e.stopPropagation();}break;case q.sap.KeyCodes.ARROW_DOWN:case q.sap.KeyCodes.ARROW_RIGHT:f=this.$().find(":focusable");t=f.index(e.target);if(f.length>0){f.eq((t+1<f.length)?t+1:0).get(0).focus();e.preventDefault();e.stopPropagation();}break;default:}};a.prototype.onkeyup=function(e){if(e.which==q.sap.KeyCodes.ENTER||e.which==q.sap.KeyCodes.SPACE){if(!this.fireBarPress(e)){this.firePress();e.preventDefault();}}};a.prototype.fireBarPress=function(e){var b=q(e.target);if(b&&b.attr("data-bar-index")){var i=parseInt(b.attr("data-bar-index"),10);var c=this.getColumns()[i];if(c){c.firePress();e.preventDefault();e.stopPropagation();if(sap.ui.Device.browser.internet_explorer){b.focus();}return true;}}return false;};a.prototype._getBarAltText=function(b){var B=this.getColumns()[b];var m=this.getLocalizedColorMeaning(B.getColor());return B.getLabel()+" "+B.getValue()+" "+m;};a.prototype.setBarPressable=function(b,p){if(p){var B=this._getBarAltText(b);q.sap.byId(this.getId()+"-bar-"+b).addClass("sapSuiteUiMicroChartPointer").attr("tabindex",0).attr("title",B).attr("role","presentation").attr("aria-label",B);}else{q.sap.byId(this.getId()+"-bar-"+b).removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer").removeAttr("title").removeAttr("role").removeAttr("aria-label");}};a.prototype.onsaptabnext=function(e){var L=this.$().find(":focusable").last();if(L){this._bIgnoreFocusEvt=true;L.get(0).focus();}};a.prototype.onsaptabprevious=function(e){if(e.target.id!=e.currentTarget.id){var f=this.$().find(":focusable").first();if(f){f.get(0).focus();}}};a.prototype.onfocusin=function(e){if(this._bIgnoreFocusEvt){this._bIgnoreFocusEvt=false;return;}if(this.getId()+"-hidden"==e.target.id){this.$().focus();e.preventDefault();e.stopPropagation();}};return a;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.ColumnMicroChartData')){jQuery.sap.declare('sap.suite.ui.microchart.ColumnMicroChartData');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/suite/ui/microchart/ColumnMicroChartData",['jquery.sap.global','./library','sap/ui/core/Element'],function(q,l,E){"use strict";var C=E.extend("sap.suite.ui.microchart.ColumnMicroChartData",{metadata:{library:"sap.suite.ui.microchart",properties:{color:{group:"Misc",type:"sap.m.ValueColor",defaultValue:"Neutral"},label:{type:"string",group:"Misc",defaultValue:""},value:{type:"float",group:"Misc"}},events:{press:{}}}});C.prototype.attachEvent=function(e,d,f,L){sap.ui.core.Control.prototype.attachEvent.call(this,e,d,f,L);if(this.getParent()){this.getParent().setBarPressable(this.getParent().getColumns().indexOf(this),true);}return this;};C.prototype.detachEvent=function(e,f,L){sap.ui.core.Control.prototype.detachEvent.call(this,e,f,L);if(this.getParent()){this.getParent().setBarPressable(this.getParent().getColumns().indexOf(this),false);}return this;};return C;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.ColumnMicroChartLabel')){jQuery.sap.declare('sap.suite.ui.microchart.ColumnMicroChartLabel');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/suite/ui/microchart/ColumnMicroChartLabel",['jquery.sap.global','./library','sap/ui/core/Element'],function(q,l,E){"use strict";var C=E.extend("sap.suite.ui.microchart.ColumnMicroChartLabel",{metadata:{library:"sap.suite.ui.microchart",properties:{color:{group:"Misc",type:"sap.m.ValueColor",defaultValue:"Neutral"},label:{type:"string",group:"Misc",defaultValue:""}}}});return C;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.ComparisonMicroChart')){jQuery.sap.declare('sap.suite.ui.microchart.ComparisonMicroChart');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');sap.ui.define("sap/suite/ui/microchart/ComparisonMicroChart",['jquery.sap.global','./library','sap/ui/core/Control'],function(q,l,C){"use strict";var a=C.extend("sap.suite.ui.microchart.ComparisonMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{size:{type:"sap.m.Size",group:"Misc",defaultValue:"Auto"},scale:{type:"string",group:"Misc",defaultValue:""},width:{type:"sap.ui.core.CSSSize",group:"Misc"},view:{type:"sap.suite.ui.microchart.ComparisonMicroChartViewType",group:"Appearance",defaultValue:"Normal"},colorPalette:{type:"string[]",group:"Appearance",defaultValue:[]},shrinkable:{type:"boolean",group:"Misc",defaultValue:"false"},height:{type:"sap.ui.core.CSSSize",group:"Appearance"}},aggregations:{data:{type:"sap.suite.ui.microchart.ComparisonMicroChartData",multiple:true}},events:{press:{}}}});a.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");this.setTooltip("{AltText}");};a.prototype._calculateChartData=function(){var r=[];var d=this.getData();var c=d.length;var m=0;var M=0;var t;var b;var e;var i;for(i=0;i<c;i++){var D=isNaN(d[i].getValue())?0:d[i].getValue();m=Math.max(m,D);M=Math.min(M,D);}t=m-M;b=(t==0)?0:Math.round(m*100/t);if(b==0&&m!=0){b=1;}else if(b==100&&M!=0){b=99;}e=100-b;for(i=0;i<c;i++){var I={};var f=isNaN(d[i].getValue())?0:d[i].getValue();I.value=(t==0)?0:Math.round(f*100/t);if(I.value==0&&f!=0){I.value=(f>0)?1:-1;}else if(I.value==100){I.value=b;}else if(I.value==-100){I.value=-e;}if(I.value>=0){I.negativeNoValue=e;I.positiveNoValue=b-I.value;}else{I.value=-I.value;I.negativeNoValue=e-I.value;I.positiveNoValue=b;}r.push(I);}return r;};a.prototype.attachEvent=function(e,d,f,L){sap.ui.core.Control.prototype.attachEvent.call(this,e,d,f,L);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer");}return this;};a.prototype.detachEvent=function(e,f,L){sap.ui.core.Control.prototype.detachEvent.call(this,e,f,L);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer");}return this;};a.prototype._getLocalizedColorMeaning=function(c){return this._oRb.getText(("SEMANTIC_COLOR_"+c).toUpperCase());};a.prototype.getAltText=function(){var s=this.getScale();var A="";for(var i=0;i<this.getData().length;i++){var b=this.getData()[i];var m=(this.getColorPalette().length)?"":this._getLocalizedColorMeaning(b.getColor());A+=((i==0)?"":"\n")+b.getTitle()+" "+(b.getDisplayValue()?b.getDisplayValue():b.getValue())+s+" "+m;}return A;};a.prototype.getTooltip_AsString=function(){var t=this.getTooltip();var T=this.getAltText();if(typeof t==="string"||t instanceof String){T=t.split("{AltText}").join(T).split("((AltText))").join(T);return T;}return t?t:"";};a.prototype._adjustBars=function(){var h=parseFloat(this.$().css("height"));var b=this.getData().length;var B=this.$().find(".sapSuiteCmpChartItem");var m=parseFloat(B.css("min-height"));var M=parseFloat(B.css("max-height"));var i;if(b!=0){i=h/b;if(i>M){i=M;}else if(i<m){i=m;}B.css("height",i);if(this.getView()==="Wide"){this.$().find(".sapSuiteCmpChartBar>div").css("height",(i*79/42)+"%");}else if(this.getView()==="Normal"){this.$().find(".sapSuiteCmpChartBar>div").css("height",(i-19)+"%");}var c=(h-i*b)/2;if(c>0){q(B[0]).css("margin-top",c+7+"px");}}};a.prototype.onAfterRendering=function(){if(this.getHeight()!=""){var t=this;sap.ui.Device.media.attachHandler(function(){t._adjustBars();});this._adjustBars();}};a.prototype._getBarAltText=function(b){var s=this.getScale();var B=this.getData()[b];var m=(this.getColorPalette().length)?"":this._getLocalizedColorMeaning(B.getColor());return B.getTitle()+" "+(B.getDisplayValue()?B.getDisplayValue():B.getValue())+s+" "+m;};a.prototype.onsaptabnext=function(e){var L=this.$().find(":focusable").last();if(L){this._bIgnoreFocusEvt=true;L.get(0).focus();}};a.prototype.onsaptabprevious=function(e){if(e.target.id!=e.currentTarget.id){var f=this.$().find(":focusable").first();if(f){f.get(0).focus();}}};a.prototype.ontap=function(e){if(sap.ui.Device.browser.edge){this.onclick(e);}};a.prototype.onclick=function(e){if(!this.fireBarPress(e)){if(sap.ui.Device.browser.internet_explorer||sap.ui.Device.browser.edge){this.$().focus();}this.firePress();}};a.prototype.onkeydown=function(e){switch(e.keyCode){case q.sap.KeyCodes.SPACE:e.preventDefault();break;case q.sap.KeyCodes.ARROW_LEFT:case q.sap.KeyCodes.ARROW_UP:var f=this.$().find(":focusable");var t=f.index(e.target);if(f.length>0){f.eq(t-1).get(0).focus();e.preventDefault();e.stopPropagation();}break;case q.sap.KeyCodes.ARROW_DOWN:case q.sap.KeyCodes.ARROW_RIGHT:var F=this.$().find(":focusable");var T=F.index(e.target);if(F.length>0){F.eq((T+1<F.length)?T+1:0).get(0).focus();e.preventDefault();e.stopPropagation();}break;default:}};a.prototype.onkeyup=function(e){if(e.which==q.sap.KeyCodes.ENTER||e.which==q.sap.KeyCodes.SPACE){if(!this.fireBarPress(e)){this.firePress();e.preventDefault();}}};a.prototype.fireBarPress=function(e){var b=q(e.target);if(b&&b.attr("data-bar-index")){var i=parseInt(b.attr("data-bar-index"),10);var c=this.getData()[i];if(c){c.firePress();e.preventDefault();e.stopPropagation();if(sap.ui.Device.browser.internet_explorer){q.sap.byId(this.getId()+"-chart-item-bar-"+i).focus();}return true;}}return false;};a.prototype.setBarPressable=function(b,p){if(p){var B=this._getBarAltText(b);q.sap.byId(this.getId()+"-chart-item-bar-"+b).addClass("sapSuiteUiMicroChartPointer").attr("tabindex",0).attr("title",B).attr("role","presentation").attr("aria-label",B);}else{q.sap.byId(this.getId()+"-chart-item-bar-"+b).removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer").removeAttr("title").removeAttr("role").removeAttr("aria-label");}};a.prototype.onfocusin=function(e){if(this._bIgnoreFocusEvt){this._bIgnoreFocusEvt=false;return;}if(this.getId()+"-hidden"==e.target.id){this.$().focus();e.preventDefault();e.stopPropagation();}};return a;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.ComparisonMicroChartData')){jQuery.sap.declare('sap.suite.ui.microchart.ComparisonMicroChartData');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/suite/ui/microchart/ComparisonMicroChartData",['jquery.sap.global','./library','sap/ui/core/Element'],function(q,l,E){"use strict";var C=E.extend("sap.suite.ui.microchart.ComparisonMicroChartData",{metadata:{library:"sap.suite.ui.microchart",properties:{value:{type:"float",group:"Misc",defaultValue:"0"},color:{type:"sap.m.ValueColor",group:"Misc",defaultValue:"Neutral"},title:{type:"string",group:"Misc",defaultValue:""},displayValue:{type:"string",group:"Misc",defaultValue:""}},events:{press:{}}}});C.prototype.setValue=function(v,s){this._isValueSet=this._fnIsNumber(v);return this.setProperty("value",this._isValueSet?v:NaN,s);};C.prototype._fnIsNumber=function(n){return typeof n=='number'&&!isNaN(n)&&isFinite(n);};C.prototype.clone=function(i,L,o){var c=sap.ui.core.Control.prototype.clone.apply(this,arguments);c._isValueSet=this._isValueSet;return c;};C.prototype.attachEvent=function(e,d,f,L){sap.ui.core.Control.prototype.attachEvent.call(this,e,d,f,L);if(this.getParent()){this.getParent().setBarPressable(this.getParent().getData().indexOf(this),true);}return this;};C.prototype.detachEvent=function(e,f,L){sap.ui.core.Control.prototype.detachEvent.call(this,e,f,L);if(this.getParent()){this.getParent().setBarPressable(this.getParent().getData().indexOf(this),false);}return this;};return C;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.DeltaMicroChart')){jQuery.sap.declare('sap.suite.ui.microchart.DeltaMicroChart');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');sap.ui.define("sap/suite/ui/microchart/DeltaMicroChart",['jquery.sap.global','./library','sap/ui/core/Control'],function(q,l,C){"use strict";var D=C.extend("sap.suite.ui.microchart.DeltaMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{value1:{type:"float",group:"Misc",defaultValue:null},value2:{type:"float",group:"Misc",defaultValue:null},title1:{type:"string",group:"Misc",defaultValue:null},title2:{type:"string",group:"Misc",defaultValue:null},displayValue1:{type:"string",group:"Misc",defaultValue:null},displayValue2:{type:"string",group:"Misc",defaultValue:null},deltaDisplayValue:{type:"string",group:"Misc",defaultValue:null},color:{type:"sap.m.ValueColor",group:"Misc",defaultValue:"Neutral"},width:{type:"sap.ui.core.CSSSize",group:"Misc"},size:{type:"sap.m.Size",group:"Misc",defaultValue:"Auto"}},events:{press:{}}}});D.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");this.setTooltip("{AltText}");};D.prototype._calcChartData=function(){var v=this.getValue1();var V=this.getValue2();var m=Math.min(v,V,0);var M=Math.max(v,V,0);var t=M-m;function c(f){return(t===0?0:Math.abs(f)/t*100).toFixed(2);}var o={};var d=v-V;o.delta={left:M===0,width:c(d),isFirstStripeUp:v<V,isMax:(v<0&&V>=0)||(v>=0&&V<0),isZero:v===0&&V===0,isEqual:d===0};o.bar1={left:V>=0,width:c(v),isSmaller:Math.abs(v)<Math.abs(V)};o.bar2={left:v>=0,width:c(V),isSmaller:Math.abs(V)<Math.abs(v)};return o;};D.prototype._getLocalizedColorMeaning=function(c){return this._oRb.getText(("SEMANTIC_COLOR_"+c).toUpperCase());};D.prototype._digitsAfterDecimalPoint=function(v){var a=(""+v).match(/[.,](\d+)/g);return(a)?(""+a).length-1:0;};D.prototype.getAltText=function(){var d=this.getDisplayValue1();var s=this.getDisplayValue2();var a=this.getDeltaDisplayValue();var v=this.getValue1();var V=this.getValue2();var A=d?d:""+v;var b=s?s:""+V;var c=a?a:""+Math.abs(v-V).toFixed(Math.max(this._digitsAfterDecimalPoint(v),this._digitsAfterDecimalPoint(V)));var m=this._getLocalizedColorMeaning(this.getColor());return this.getTitle1()+" "+A+"\n"+this.getTitle2()+" "+b+"\n"+this._oRb.getText("DELTAMICROCHART_DELTA_TOOLTIP",[c,m]);};D.prototype.getTooltip_AsString=function(){var t=this.getTooltip();var T=this.getAltText();if(typeof t==="string"||t instanceof String){T=t.split("{AltText}").join(T).split("((AltText))").join(T);return T;}return t?t:"";};D.prototype._isCalcSupported=function(){return q.sap.byId(this.getId()+"-calc").css("max-width")=="11px";};D.prototype._isRoundingSupported=function(){return q.sap.byId(this.getId()+"-calc1").width()==4;};D.prototype.onBeforeRendering=function(){this._oChartData=this._calcChartData();};D.prototype.onAfterRendering=function(){this._bCalc=this._isCalcSupported();this._bRounding=this._isRoundingSupported();if(!this._bCalc||!this._bRounding){if(this._sResizeHandlerId){sap.ui.core.ResizeHandler.deregister(this._sResizeHandlerId);}var c=q.sap.domById(this.getId()+"-dmc-chart");this._sResizeHandlerId=sap.ui.core.ResizeHandler.register(c,q.proxy(this._adjust,this));if(!this._bCalc){this._adjustCalc();}if(!this._bRounding){this._adjustRound();}}};D.prototype._adjust=function(){if(!this._bCalc){this._adjustCalc();}if(!this._bRounding){this._adjustRound();}};D.prototype._adjustRound=function(){var c=q.sap.byId(this.getId()+"-dmc-chart").width();var d=Math.round(c*this._oChartData.delta.width/100);q.sap.byId(this.getId()+"-dmc-bar-delta").width(d);if(this._oChartData.bar1.isSmaller&&!this._oChartData.delta.isMax){q.sap.byId(this.getId()+"-dmc-bar1").width(c-d);}if(this._oChartData.bar2.isSmaller&&!this._oChartData.delta.isMax){q.sap.byId(this.getId()+"-dmc-bar2").width(c-d);}};D.prototype._adjustCalc=function(){var c=q.sap.byId(this.getId()+"-dmc-chart").width();function a(b){b.css("max-width",c-parseInt(b.css("max-width"),10)+"px");}a(q.sap.byId(this.getId()+"-dmc-bar1"));a(q.sap.byId(this.getId()+"-dmc-bar2"));a(q.sap.byId(this.getId()+"-dmc-bar-delta"));};D.prototype.attachEvent=function(e,d,f,L){sap.ui.core.Control.prototype.attachEvent.call(this,e,d,f,L);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer");}return this;};D.prototype.detachEvent=function(e,f,L){sap.ui.core.Control.prototype.detachEvent.call(this,e,f,L);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer");}return this;};D.prototype.ontap=function(e){if(sap.ui.Device.browser.internet_explorer){this.$().focus();}this.firePress();};D.prototype.onkeydown=function(e){if(e.which==q.sap.KeyCodes.SPACE){e.preventDefault();}};D.prototype.onkeyup=function(e){if(e.which==q.sap.KeyCodes.ENTER||e.which==q.sap.KeyCodes.SPACE){this.firePress();e.preventDefault();}};return D;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.HarveyBallMicroChart')){jQuery.sap.declare('sap.suite.ui.microchart.HarveyBallMicroChart');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');sap.ui.define("sap/suite/ui/microchart/HarveyBallMicroChart",['jquery.sap.global','./library','sap/ui/core/Control'],function(q,l,C){"use strict";var H=C.extend("sap.suite.ui.microchart.HarveyBallMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{total:{group:"Misc",type:"float",defaultValue:null},totalLabel:{group:"Misc",type:"string"},totalScale:{group:"Misc",type:"string"},formattedLabel:{group:"Misc",type:"boolean",defaultValue:false},showTotal:{group:"Misc",type:"boolean",defaultValue:true},showFractions:{group:"Misc",type:"boolean",defaultValue:true},size:{group:"Misc",type:"sap.m.Size",defaultValue:"Auto"},colorPalette:{type:"string[]",group:"Appearance",defaultValue:[]},width:{group:"Misc",type:"sap.ui.core.CSSSize"}},events:{press:{}},aggregations:{"items":{multiple:true,type:"sap.suite.ui.microchart.HarveyBallMicroChartItem"}}}});H.prototype.getAltText=function(){var a="";var I=true;var b=this.getItems();for(var i=0;i<b.length;i++){var o=b[i];var c=(this.getColorPalette().length===0)?this._rb.getText(("SEMANTIC_COLOR_"+o.getColor()).toUpperCase()):"";var L=o.getFractionLabel();var s=o.getFractionScale();if(!L&&s){L=o.getFormattedLabel()?o.getFraction():o.getFraction()+o.getFractionScale().substring(0,3);}else if(!o.getFormattedLabel()&&o.getFractionLabel()){L+=o.getFractionScale().substring(0,3);}a+=(I?"":"\n")+L+" "+c;I=false;}if(this.getTotal()){var t=this.getTotalLabel();if(!t){t=this.getFormattedLabel()?this.getTotal():this.getTotal()+this.getTotalScale().substring(0,3);}else if(!this.getFormattedLabel()){t+=this.getTotalScale().substring(0,3);}a+=(I?"":"\n")+this._rb.getText("HARVEYBALLMICROCHART_TOTAL_TOOLTIP")+" "+t;}return a;};H.prototype.getTooltip_AsString=function(){var t=this.getTooltip();var T=this.getAltText();if(typeof t==="string"||t instanceof String){T=t.split("{AltText}").join(T).split("((AltText))").join(T);return T;}return t?t:"";};H.prototype.init=function(){this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");this.setTooltip("{AltText}");sap.ui.Device.media.attachHandler(this.rerender,this,sap.ui.Device.media.RANGESETS.SAP_STANDARD);};H.prototype._calculatePath=function(){var s=this.getSize();var t=this.getTotal();var f=0;if(this.getItems().length){f=this.getItems()[0].getFraction();}var i=false;if(s=="Auto"){i=q("html").hasClass("sapUiMedia-Std-Phone");}if(s=="S"||s=="XS"){i=true;}var m=i?56:72;var c=m/2;var b=4;this._oPath={initial:{x:c,y:c,x1:c,y1:c},lineTo:{x:c,y:b},arc:{x1:c-b,y1:c-b,xArc:0,largeArc:0,sweep:1,x2:"",y2:""},size:m,border:b,center:c};var a=f/t*360;if(a<10){this._oPath.initial.x-=1.5;this._oPath.initial.x1+=1.5;this._oPath.arc.x2=this._oPath.initial.x1;this._oPath.arc.y2=this._oPath.lineTo.y;}else if(a>350&&a<360){this._oPath.initial.x+=1.5;this._oPath.initial.x1-=1.5;this._oPath.arc.x2=this._oPath.initial.x1;this._oPath.arc.y2=this._oPath.lineTo.y;}else{var r=Math.PI/180.0;var R=this._oPath.center-this._oPath.border;var d=R*Math.cos((a-90)*r)+this._oPath.center;var e=this._oPath.size-(R*Math.sin((a+90)*r)+this._oPath.center);this._oPath.arc.x2=d.toFixed(2);this._oPath.arc.y2=e.toFixed(2);}var L=t/f<2?1:0;this._oPath.arc.largeArc=L;};H.prototype.onBeforeRendering=function(){this._calculatePath();};H.prototype.serializePieChart=function(){var p=this._oPath;return["M",p.initial.x,",",p.initial.y," L",p.initial.x,",",p.lineTo.y," A",p.arc.x1,",",p.arc.y1," ",p.arc.xArc," ",p.arc.largeArc,",",p.arc.sweep," ",p.arc.x2,",",p.arc.y2," L",p.initial.x1,",",p.initial.y1," z"].join("");};H.prototype._parseFormattedValue=function(v){return{scale:v.replace(/.*?([^+-.,\d]*)$/g,"$1").trim(),value:v.replace(/(.*?)[^+-.,\d]*$/g,"$1").trim()};};H.prototype.ontap=function(e){if(sap.ui.Device.browser.internet_explorer){this.$().focus();}this.firePress();};H.prototype.onkeydown=function(e){if(e.which==q.sap.KeyCodes.SPACE){e.preventDefault();}};H.prototype.onkeyup=function(e){if(e.which==q.sap.KeyCodes.ENTER||e.which==q.sap.KeyCodes.SPACE){this.firePress();e.preventDefault();}};H.prototype.attachEvent=function(e,d,f,L){sap.ui.core.Control.prototype.attachEvent.call(this,e,d,f,L);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer");}return this;};H.prototype.detachEvent=function(e,f,L){sap.ui.core.Control.prototype.detachEvent.call(this,e,f,L);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer");}return this;};H.prototype.exit=function(e){sap.ui.Device.media.detachHandler(this.rerender,this,sap.ui.Device.media.RANGESETS.SAP_STANDARD);};return H;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.HarveyBallMicroChartItem')){jQuery.sap.declare('sap.suite.ui.microchart.HarveyBallMicroChartItem');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/suite/ui/microchart/HarveyBallMicroChartItem",['jquery.sap.global','./library','sap/ui/core/Element'],function(q,l,E){"use strict";var H=E.extend("sap.suite.ui.microchart.HarveyBallMicroChartItem",{metadata:{library:"sap.suite.ui.microchart",properties:{color:{group:"Misc",type:"sap.m.ValueColor",defaultValue:"Neutral"},fraction:{group:"Misc",type:"float",defaultValue:"0"},fractionLabel:{group:"Misc",type:"string"},fractionScale:{group:"Misc",type:"string"},formattedLabel:{group:"Misc",type:"boolean",defaultValue:"false"}}}});return H;});};if(!jQuery.sap.isDeclared('sap.suite.ui.microchart.RadialMicroChart')){jQuery.sap.declare('sap.suite.ui.microchart.RadialMicroChart');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');sap.ui.define("sap/suite/ui/microchart/RadialMicroChart",['jquery.sap.global','./library','sap/ui/core/Control','sap/suite/ui/microchart/RadialMicroChartRenderer'],function(q,l,C,R){"use strict";var a=C.extend("sap.suite.ui.microchart.RadialMicroChart",{constructor:function(i,s){var p;if(s&&typeof s.percentage==="number"){p=true;}else if(i&&typeof i.percentage==="number"){p=true;}else{p=false;}try{C.apply(this,arguments);this._bPercentageMode=p;}catch(e){this.destroy();throw e;}},metadata:{library:"sap.suite.ui.microchart",properties:{total:{group:"Data",type:"float",defaultValue:null},fraction:{group:"Data",type:"float",defaultValue:null},percentage:{group:"Data",type:"float",defaultValue:null},valueColor:{group:"Appearance",type:"sap.m.ValueCSSColor",defaultValue:"Neutral"}},events:{press:{}}}});a.prototype.init=function(){this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");this._bPercentageMode;};a.prototype.onBeforeRendering=function(){if(!this._bPercentageMode){if(this.getTotal()===0){q.sap.log.error("Total can not be 0, please add a valid total value");}else{this.setProperty("percentage",Math.round((this.getFraction()*100/this.getTotal())*10)/10,true);}}};a.prototype.onAfterRendering=function(){R._handleOnAfterRendering(this);};a.prototype.ontap=function(e){if(sap.ui.Device.browser.internet_explorer){this.$().focus();}this.firePress();};a.prototype.onkeydown=function(e){if(e.which===q.sap.KeyCodes.SPACE){e.preventDefault();}};a.prototype.onkeyup=function(e){if(e.which===q.sap.KeyCodes.ENTER||e.which===q.sap.KeyCodes.SPACE){this.firePress();e.preventDefault();}};a.prototype.attachEvent=function(e,d,f,b){sap.ui.core.Control.prototype.attachEvent.call(this,e,d,f,b);if(e==="press"){this.rerender();}return this;};a.prototype.detachEvent=function(e,f,b){sap.ui.core.Control.prototype.detachEvent.call(this,e,f,b);if(e==="press"){this.rerender();}return this;};a.prototype._getPercentageMode=function(){return this._bPercentageMode;};a.prototype.setPercentage=function(p){if(p){if(p!==this.getPercentage()){this._bPercentageMode=true;this.setProperty("percentage",p);}}else{this._bPercentageMode=false;this.setProperty("percentage",null);}};a.prototype._isValueColorInstanceOfValueColor=function(){var v=this.getValueColor();for(var V in sap.m.ValueColor){if(V===v){return true;}}return false;};a.prototype._getTooltipText=function(){var t=this.getTooltip_Text();if(!t){t=this._getAriaAndTooltipText();}else if(this._isTooltipSuppressed()){t=null;}return t;};a.prototype._getAriaText=function(){var A=this.getTooltip_Text();if(!A||this._isTooltipSuppressed()){A=this._getAriaAndTooltipText();}return A;};a.prototype._isTooltipSuppressed=function(){var t=this.getTooltip_Text();if(t&&q.trim(t).length===0){return true;}else{return false;}};a.prototype._getAriaAndTooltipText=function(){var t;var p=this.getPercentage();if(p>100){p=100;}else if(p<0){p=0;}if(this._isValueColorInstanceOfValueColor()){t=this._rb.getText("RADIALMICROCHART_ARIA_LABEL",[this.getPercentage(),this._getStatusText()]);}else{t=this._rb.getText("RADIALMICROCHART_ARIA_LABEL",[p,sap.m.ValueColor.Neutral]);}return t;};a.prototype._getStatusText=function(){var v=this.getValueColor();switch(v){case sap.m.ValueColor.Error:return this._rb.getText("SEMANTIC_COLOR_ERROR");case sap.m.ValueColor.Critical:return this._rb.getText("SEMANTIC_COLOR_CRITICAL");case sap.m.ValueColor.Good:return this._rb.getText("SEMANTIC_COLOR_GOOD");default:return this._rb.getText("SEMANTIC_COLOR_NEUTRAL");}};return a;});};
