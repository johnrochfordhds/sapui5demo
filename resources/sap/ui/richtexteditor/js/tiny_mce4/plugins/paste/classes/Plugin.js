define("tinymce/pasteplugin/Plugin",["tinymce/PluginManager","tinymce/pasteplugin/Clipboard","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Quirks"],function(P,C,W,Q){var u;P.add('paste',function(a){var s=this,c,b=a.settings;function t(){if(c.pasteFormat=="text"){this.active(false);c.pasteFormat="html";}else{c.pasteFormat="text";this.active(true);if(!u){var m=a.translate('Paste is now in plain text mode. Contents will now '+'be pasted as plain text until you toggle this option off.');a.notificationManager.open({text:m,type:'info'});u=true;}}}s.clipboard=c=new C(a);s.quirks=new Q(a);s.wordFilter=new W(a);if(a.settings.paste_as_text){s.clipboard.pasteFormat="text";}if(b.paste_preprocess){a.on('PastePreProcess',function(e){b.paste_preprocess.call(s,s,e);});}if(b.paste_postprocess){a.on('PastePostProcess',function(e){b.paste_postprocess.call(s,s,e);});}a.addCommand('mceInsertClipboardContent',function(d,v){if(v.content){s.clipboard.pasteHtml(v.content);}if(v.text){s.clipboard.pasteText(v.text);}});if(a.paste_block_drop){a.on('dragend dragover draggesture dragdrop drop drag',function(e){e.preventDefault();e.stopPropagation();});}if(!a.settings.paste_data_images){a.on('drop',function(e){var d=e.dataTransfer;if(d&&d.files&&d.files.length>0){e.preventDefault();}});}a.addButton('pastetext',{icon:'pastetext',tooltip:'Paste as text',onclick:t,active:s.clipboard.pasteFormat=="text"});a.addMenuItem('pastetext',{text:'Paste as text',selectable:true,active:c.pasteFormat,onclick:t});});});
